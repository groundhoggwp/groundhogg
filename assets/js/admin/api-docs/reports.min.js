(()=>{const{ApiRegistry,CommonParams,setInRequest,getFromRequest,addBaseObjectCRUDEndpoints,currEndpoint,currRoute}=Groundhogg.apiDocs;const{root:apiRoot}=Groundhogg.api.routes.v4;const{sprintf,__,_x,_n}=wp.i18n;const{Fragment,Pg,Input,Textarea,InputRepeater}=MakeEl;ApiRegistry.add("reports",{name:__("Reports"),description:()=>Fragment([Pg({},__("Fetch report data.","groundhogg"))]),endpoints:Groundhogg.createRegistry()});ApiRegistry.reports.endpoints.add("read-all",{name:__("Fetch multiple reports","groundhogg"),description:()=>Pg({},__("Fetch the results for multiple reports.","groundhogg")),method:"GET",endpoint:`${apiRoot}/reports`,params:[{param:"reports",type:"string",required:true,control:({param,name,id})=>{let others=getFromRequest(param,[]);let rows=others.map(id=>[id]);return InputRepeater({id:id,rows:rows,cells:[props=>Input(props)],onChange:rows=>{setInRequest(param,rows.map(([id])=>id))}})},description:()=>Pg({},__("The IDs of the reports to retrieve.","groundhogg"))},{param:"after",type:"string",required:true,control:({param,name,id})=>Input({type:"date",name:name,id:id,value:getFromRequest(param),className:"code",onInput:e=>setInRequest(param,e.target.value)}),description:()=>Pg({},__("The beginning of the desired reporting range","groundhogg"))},{param:"before",type:"string",required:true,control:({param,name,id})=>Input({type:"date",name:name,id:id,value:getFromRequest(param),className:"code",onInput:e=>setInRequest(param,e.target.value)}),description:()=>Pg({},__("The end of the desired reporting range.","groundhogg"))}],request:{report:"John",start:"",end:""},response:{}});ApiRegistry.reports.endpoints.add("read-single",{name:__("Fetch single report","groundhogg"),description:()=>Pg({},__("Fetch the results for a single report.","groundhogg")),method:"GET",endpoint:`${apiRoot}/reports/:report`,identifiers:[{param:"report",type:"string",required:true,description:()=>Pg({},__("The ID of the report to retrieve.","groundhogg"))}],params:[{param:"after",type:"string",required:true,control:({param,name,id})=>Input({type:"date",name:name,id:id,value:getFromRequest(param),className:"code",onInput:e=>setInRequest(param,e.target.value)}),description:()=>Pg({},__("The beginning of the desired reporting range","groundhogg"))},{param:"before",type:"string",required:true,control:({param,name,id})=>Input({type:"date",name:name,id:id,value:getFromRequest(param),className:"code",onInput:e=>setInRequest(param,e.target.value)}),description:()=>Pg({},__("The end of the desired reporting range.","groundhogg"))}],request:{report:"",start:"",end:""},response:{}});ApiRegistry.reports.endpoints.add("read-custom-all",{name:__("Fetch all custom reports","groundhogg"),description:()=>Pg({},__("Fetch the results for all custom reports.","groundhogg")),method:"GET",endpoint:`${apiRoot}/custom-reports`,request:{},response:{}});ApiRegistry.reports.endpoints.add("read-custom-single",{name:__("Fetch single custom report","groundhogg"),description:()=>Pg({},__("Fetch the results for a single custom report.","groundhogg")),method:"GET",endpoint:`${apiRoot}/custom-reports/:report`,identifiers:[{param:"report",type:"string",required:true,description:()=>Pg({},__("The ID of the report to retrieve.","groundhogg"))}],request:{report:""},response:{}})})();