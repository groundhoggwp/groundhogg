(()=>{const{events:EventsStore,event_queue:EventQueue,tags:TagsStore,contacts:ContactsStore,emails:EmailsStore,activity:ActivityStore,funnels:FunnelsStore,broadcasts:BroadcastsStore,page_visits:PageVisitsStore,submissions:SubmissionsStore}=Groundhogg.stores;const State=Groundhogg.createState({view:"all",order:"ASC",contactId:null});const{contact_id}=ContactEditor;const fetchActivity=()=>{return Groundhogg.api.ajax({action:"groundhogg_contact_activity_stream",contact_id:contact_id}).then(r=>{EventQueue.clearItems();const{events=[],event_queue_items=[],activity=[],submissions=[],page_visits=[]}=r;EventQueue.itemsFetched(event_queue_items);EventsStore.itemsFetched(events);ActivityStore.itemsFetched(activity);SubmissionsStore.itemsFetched(submissions);PageVisitsStore.itemsFetched(page_visits);return r})};const{icons,escHTML,bold}=Groundhogg.element;const{}=Groundhogg.functions;const{contact,unsubReasons}=ContactEditor;const{Ul,Li,maybeCall}=MakeEl;const ignoredItems=new WeakMap;const ActivityTypes=Groundhogg.createRegistry({broadcast:{icon:({data})=>{},html:({data})=>{},getSubActivities:({data})=>{}},flowJourney:{icon:({data})=>{},html:({data})=>{},getSubActivities:({data})=>{}},pendingFlowStep:{icon:({data})=>{},html:({data})=>{},getSubActivities:({data})=>{}},flowStep:{icon:({data})=>{},html:({data})=>{},getSubActivities:({data})=>{}},pageVisits:{icon:({data})=>{},html:({data})=>{}},pageVisit:{},email_opened:{},email_link_click:{},imported:{},wp_login:{},wp_logout:{},wp_fusion:{},bounce:{},soft_bounce:{},complaint:{},unsubscribed:{},composed_email_sent:{},genericActivity:{}});const buildMainActivitiesTimeline=()=>{let mainActivities=[];EventQueue.getItems().forEach(event=>{});return mainActivities};const determineActivityType=something=>{};const MainActivityList=activities=>{if(!activities.length){return null}return Ul({className:"activity-list main-activity-list"},activities.map(activity=>{const Type=ActivityTypes.get(activity.type);let classes=["activity-item"];return Li({className:classes.join(" ")},[maybeCall(Type.icon,activity),Type.render(activity),Type.hasOwnProperty("getSubActivities")?ActivityList(Type.getSubActivities(activity)):null])}))};const ActivityList=activities=>{if(!activities.length){return null}return Ul({className:"activity-list"},activities.map(activity=>{const Type=ActivityTypes.get(activity.type);let classes=["activity-item"];return Li({className:classes.join(" ")},[maybeCall(Type.icon,activity),Type.render(activity),Type.hasOwnProperty("getSubActivities")?ActivityList(Type.getSubActivities(activity)):null])}))};const FlowProgressTimeline=flow_id=>{let flowActivity=events.filter()}})();