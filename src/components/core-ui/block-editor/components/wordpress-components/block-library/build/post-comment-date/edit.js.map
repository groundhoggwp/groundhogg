{"version":3,"sources":["@wordpress/block-library/src/post-comment-date/edit.js"],"names":["Edit","attributes","context","setAttributes","className","format","commentId","settings","siteDateFormat","date","formatOptions","Object","values","formats","map","formatOption","key","name","resolvedFormat","blockWrapperProps","selectedItem","find","option"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AACA;;AAIA;;AACA;;AAVA;;;AAYe,SAASA,IAAT,OAAwD;AAAA,MAAvCC,UAAuC,QAAvCA,UAAuC;AAAA,MAA3BC,OAA2B,QAA3BA,OAA2B;AAAA,MAAlBC,aAAkB,QAAlBA,aAAkB;AAAA,MAC9DC,SAD8D,GACxCH,UADwC,CAC9DG,SAD8D;AAAA,MACnDC,MADmD,GACxCJ,UADwC,CACnDI,MADmD;AAAA,MAE9DC,SAF8D,GAEhDJ,OAFgD,CAE9DI,SAF8D;AAItE,MAAMC,QAAQ,GAAG,sCAAjB;;AAJsE,uBAK3C,6BAAe,MAAf,EAAuB,MAAvB,EAA+B,aAA/B,CAL2C;AAAA;AAAA,MAK9DC,cAL8D;;AAAA,wBAMrD,6BAAe,MAAf,EAAuB,SAAvB,EAAkC,MAAlC,EAA0CF,SAA1C,CANqD;AAAA;AAAA,MAM9DG,IAN8D;;AAQtE,MAAMC,aAAa,GAAGC,MAAM,CAACC,MAAP,CAAeL,QAAQ,CAACM,OAAxB,EAAkCC,GAAlC,CACrB,UAAEC,YAAF;AAAA,WAAsB;AACrBC,MAAAA,GAAG,EAAED,YADgB;AAErBE,MAAAA,IAAI,EAAE,oBAAUF,YAAV,EAAwBN,IAAxB;AAFe,KAAtB;AAAA,GADqB,CAAtB;AAMA,MAAMS,cAAc,GAAGb,MAAM,IAAIG,cAAV,IAA4BD,QAAQ,CAACM,OAAT,CAAiBJ,IAApE;AACA,MAAMU,iBAAiB,GAAG,qDAAsB;AAAEf,IAAAA,SAAS,EAATA;AAAF,GAAtB,CAA1B;AAEA,SACC,qDACC,4BAAC,8BAAD,QACC,4BAAC,qBAAD;AAAW,IAAA,KAAK,EAAG,cAAI,iBAAJ;AAAnB,KACC,4BAAC,+BAAD;AACC,IAAA,mBAAmB,MADpB;AAEC,IAAA,KAAK,EAAG,cAAI,aAAJ,CAFT;AAGC,IAAA,OAAO,EAAGM,aAHX;AAIC,IAAA,QAAQ,EAAG;AAAA,UAAIU,YAAJ,SAAIA,YAAJ;AAAA,aACVjB,aAAa,CAAE;AACdE,QAAAA,MAAM,EAAEe,YAAY,CAACJ;AADP,OAAF,CADH;AAAA,KAJZ;AASC,IAAA,KAAK,EAAGN,aAAa,CAACW,IAAd,CACP,UAAEC,MAAF;AAAA,aAAcA,MAAM,CAACN,GAAP,KAAeE,cAA7B;AAAA,KADO;AATT,IADD,CADD,CADD,EAmBC,mCAAUC,iBAAV,EACC;AAAM,IAAA,QAAQ,EAAG,oBAAU,GAAV,EAAeV,IAAf;AAAjB,KACG,oBAAUS,cAAV,EAA0BT,IAA1B,CADH,CADD,CAnBD,CADD;AA2BA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport { __experimentalGetSettings, dateI18n } from '@wordpress/date';\nimport {\n\tInspectorControls,\n\t__experimentalUseBlockWrapperProps as useBlockWrapperProps,\n} from '@wordpress/block-editor';\nimport { PanelBody, CustomSelectControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function Edit( { attributes, context, setAttributes } ) {\n\tconst { className, format } = attributes;\n\tconst { commentId } = context;\n\n\tconst settings = __experimentalGetSettings();\n\tconst [ siteDateFormat ] = useEntityProp( 'root', 'site', 'date_format' );\n\tconst [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\n\n\tconst formatOptions = Object.values( settings.formats ).map(\n\t\t( formatOption ) => ( {\n\t\t\tkey: formatOption,\n\t\t\tname: dateI18n( formatOption, date ),\n\t\t} )\n\t);\n\tconst resolvedFormat = format || siteDateFormat || settings.formats.date;\n\tconst blockWrapperProps = useBlockWrapperProps( { className } );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Format settings' ) }>\n\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tlabel={ __( 'Date Format' ) }\n\t\t\t\t\t\toptions={ formatOptions }\n\t\t\t\t\t\tonChange={ ( { selectedItem } ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tformat: selectedItem.key,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={ formatOptions.find(\n\t\t\t\t\t\t\t( option ) => option.key === resolvedFormat\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<div { ...blockWrapperProps }>\n\t\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\n\t\t\t\t\t{ dateI18n( resolvedFormat, date ) }\n\t\t\t\t</time>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]}