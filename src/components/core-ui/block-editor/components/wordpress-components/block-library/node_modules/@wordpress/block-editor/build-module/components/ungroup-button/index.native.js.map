{"version":3,"sources":["@wordpress/block-editor/src/components/ungroup-button/index.native.js"],"names":["noop","Toolbar","ToolbarButton","__","withSelect","withDispatch","compose","UngroupIcon","UngroupButton","onConvertFromGroup","isUngroupable","select","getSelectedBlockClientId","getBlock","getGroupingBlockName","selectedId","selectedBlock","groupingBlockName","innerBlocks","length","name","clientId","dispatch","onToggle","replaceBlocks"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,OAAT,EAAkBC,aAAlB,QAAuC,uBAAvC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA;;;;AAGA,OAAOC,WAAP,MAAwB,QAAxB;AAEA,OAAO,SAASC,aAAT,OAAwE;AAAA,MAA9CC,kBAA8C,QAA9CA,kBAA8C;AAAA,gCAA1BC,aAA0B;AAAA,MAA1BA,aAA0B,mCAAV,KAAU;;AAC9E,MAAK,CAAEA,aAAP,EAAuB;AACtB,WAAO,IAAP;AACA;;AACD,SACC,cAAC,OAAD,QACC,cAAC,aAAD;AACC,IAAA,KAAK,EAAGP,EAAE,CAAE,SAAF,CADX;AAEC,IAAA,IAAI,EAAGI,WAFR;AAGC,IAAA,OAAO,EAAGE;AAHX,IADD,CADD;AASA;AAED,eAAeH,OAAO,CAAE,CACvBF,UAAU,CAAE,UAAEO,MAAF,EAAc;AAAA,gBACsBA,MAAM,CACpD,mBADoD,CAD5B;AAAA,MACjBC,wBADiB,WACjBA,wBADiB;AAAA,MACSC,QADT,WACSA,QADT;;AAAA,iBAKQF,MAAM,CAAE,aAAF,CALd;AAAA,MAKjBG,oBALiB,YAKjBA,oBALiB;;AAOzB,MAAMC,UAAU,GAAGH,wBAAwB,EAA3C;AACA,MAAMI,aAAa,GAAGH,QAAQ,CAAEE,UAAF,CAA9B;AAEA,MAAME,iBAAiB,GAAGH,oBAAoB,EAA9C;AAEA,MAAMJ,aAAa,GAClBM,aAAa,IACbA,aAAa,CAACE,WADd,IAEA,CAAC,CAAEF,aAAa,CAACE,WAAd,CAA0BC,MAF7B,IAGAH,aAAa,CAACI,IAAd,KAAuBH,iBAJxB;AAKA,MAAMC,WAAW,GAAGR,aAAa,GAAGM,aAAa,CAACE,WAAjB,GAA+B,EAAhE;AAEA,SAAO;AACNR,IAAAA,aAAa,EAAbA,aADM;AAENW,IAAAA,QAAQ,EAAEN,UAFJ;AAGNG,IAAAA,WAAW,EAAXA;AAHM,GAAP;AAKA,CAxBS,CADa,EA0BvBb,YAAY,CAAE,UAAEiB,QAAF,SAA4D;AAAA,MAA9CD,QAA8C,SAA9CA,QAA8C;AAAA,MAApCH,WAAoC,SAApCA,WAAoC;AAAA,6BAAvBK,QAAuB;AAAA,MAAvBA,QAAuB,+BAAZvB,IAAY;;AAAA,kBAC/CsB,QAAQ,CAAE,mBAAF,CADuC;AAAA,MACjEE,aADiE,aACjEA,aADiE;;AAGzE,SAAO;AACNf,IAAAA,kBADM,gCACe;AACpB,UAAK,CAAES,WAAW,CAACC,MAAnB,EAA4B;AAC3B;AACA;;AAEDK,MAAAA,aAAa,CAAEH,QAAF,EAAYH,WAAZ,CAAb;AAEAK,MAAAA,QAAQ;AACR;AATK,GAAP;AAWA,CAdW,CA1BW,CAAF,CAAP,CAyCVf,aAzCU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Toolbar, ToolbarButton } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport UngroupIcon from './icon';\n\nexport function UngroupButton( { onConvertFromGroup, isUngroupable = false } ) {\n\tif ( ! isUngroupable ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<Toolbar>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ __( 'Ungroup' ) }\n\t\t\t\ticon={ UngroupIcon }\n\t\t\t\tonClick={ onConvertFromGroup }\n\t\t\t/>\n\t\t</Toolbar>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientId, getBlock } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\tconst { getGroupingBlockName } = select( 'core/blocks' );\n\n\t\tconst selectedId = getSelectedBlockClientId();\n\t\tconst selectedBlock = getBlock( selectedId );\n\n\t\tconst groupingBlockName = getGroupingBlockName();\n\n\t\tconst isUngroupable =\n\t\t\tselectedBlock &&\n\t\t\tselectedBlock.innerBlocks &&\n\t\t\t!! selectedBlock.innerBlocks.length &&\n\t\t\tselectedBlock.name === groupingBlockName;\n\t\tconst innerBlocks = isUngroupable ? selectedBlock.innerBlocks : [];\n\n\t\treturn {\n\t\t\tisUngroupable,\n\t\t\tclientId: selectedId,\n\t\t\tinnerBlocks,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId, innerBlocks, onToggle = noop } ) => {\n\t\tconst { replaceBlocks } = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonConvertFromGroup() {\n\t\t\t\tif ( ! innerBlocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treplaceBlocks( clientId, innerBlocks );\n\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t};\n\t} ),\n] )( UngroupButton );\n"]}