{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/block-slot.js"],"names":["classnames","getBlockType","Fill","Slot","VisuallyHidden","useInstanceId","Children","cloneElement","forwardRef","useContext","__","BlockIcon","BlockListBlockContext","BlockNavigationBlockSelectButton","getBlockPositionDescription","getSlotName","clientId","BlockNavigationBlockSlot","props","ref","instanceId","block","fills","length","className","isSelected","position","siblingBlockCount","level","tabIndex","onFocus","name","blockType","descriptionId","blockPositionDescription","forwardedFillProps","icon","map","fill","BlockNavigationBlockFill"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { getBlockType } from '@wordpress/blocks';\nimport { Fill, Slot, VisuallyHidden } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport {\n\tChildren,\n\tcloneElement,\n\tforwardRef,\n\tuseContext,\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport { BlockListBlockContext } from '../block-list/block';\nimport BlockNavigationBlockSelectButton from './block-select-button';\nimport { getBlockPositionDescription } from './utils';\n\nconst getSlotName = ( clientId ) => `BlockNavigationBlock-${ clientId }`;\n\nfunction BlockNavigationBlockSlot( props, ref ) {\n\tconst instanceId = useInstanceId( BlockNavigationBlockSlot );\n\tconst { clientId } = props.block;\n\n\treturn (\n\t\t<Slot name={ getSlotName( clientId ) }>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( ! fills.length ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<BlockNavigationBlockSelectButton\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst {\n\t\t\t\t\tclassName,\n\t\t\t\t\tblock,\n\t\t\t\t\tisSelected,\n\t\t\t\t\tposition,\n\t\t\t\t\tsiblingBlockCount,\n\t\t\t\t\tlevel,\n\t\t\t\t\ttabIndex,\n\t\t\t\t\tonFocus,\n\t\t\t\t} = props;\n\n\t\t\t\tconst { name } = block;\n\t\t\t\tconst blockType = getBlockType( name );\n\t\t\t\tconst descriptionId = `block-navigation-block-slot__${ instanceId }`;\n\t\t\t\tconst blockPositionDescription = getBlockPositionDescription(\n\t\t\t\t\tposition,\n\t\t\t\t\tsiblingBlockCount,\n\t\t\t\t\tlevel\n\t\t\t\t);\n\n\t\t\t\tconst forwardedFillProps = {\n\t\t\t\t\t// Ensure that the component in the slot can receive\n\t\t\t\t\t// keyboard navigation.\n\t\t\t\t\ttabIndex,\n\t\t\t\t\tonFocus,\n\t\t\t\t\tref,\n\t\t\t\t\t// Give the element rendered in the slot a description\n\t\t\t\t\t// that describes its position.\n\t\t\t\t\t'aria-describedby': descriptionId,\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'block-editor-block-navigation-block-slot',\n\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t\t\t\t\t{ Children.map( fills, ( fill ) =>\n\t\t\t\t\t\t\t\tcloneElement( fill, {\n\t\t\t\t\t\t\t\t\t...fill.props,\n\t\t\t\t\t\t\t\t\t...forwardedFillProps,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t\t\t\t\t{ __( '(selected block)' ) }\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-navigation-block-slot__description\"\n\t\t\t\t\t\t\t\tid={ descriptionId }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ blockPositionDescription }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nexport default forwardRef( BlockNavigationBlockSlot );\n\nexport const BlockNavigationBlockFill = ( props ) => {\n\tconst { clientId } = useContext( BlockListBlockContext );\n\treturn <Fill { ...props } name={ getSlotName( clientId ) } />;\n};\n"]}