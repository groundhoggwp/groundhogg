{"version":3,"sources":["@wordpress/components/src/custom-gradient-picker/index.js"],"names":["get","omit","__","AnglePickerControl","CustomGradientBar","Flex","FlexItem","SelectControl","getGradientParsed","serializeGradient","DEFAULT_LINEAR_GRADIENT_ANGLE","HORIZONTAL_GRADIENT_ORIENTATION","GRADIENT_OPTIONS","SelectWrapper","GradientAnglePicker","gradientAST","hasGradient","onChange","angle","onAngleChange","newAngle","orientation","type","value","GradientTypePicker","onSetLinearGradient","onSetRadialGradient","handleOnChange","next","CustomGradientPicker"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { get, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport AnglePickerControl from '../angle-picker-control';\nimport CustomGradientBar from './custom-gradient-bar';\nimport { Flex, FlexItem } from '../flex';\nimport SelectControl from '../select-control';\nimport { getGradientParsed } from './utils';\nimport { serializeGradient } from './serializer';\nimport {\n\tDEFAULT_LINEAR_GRADIENT_ANGLE,\n\tHORIZONTAL_GRADIENT_ORIENTATION,\n\tGRADIENT_OPTIONS,\n} from './constants';\nimport { SelectWrapper } from './styles/custom-gradient-picker-styles';\n\nconst GradientAnglePicker = ( { gradientAST, hasGradient, onChange } ) => {\n\tconst angle = get(\n\t\tgradientAST,\n\t\t[ 'orientation', 'value' ],\n\t\tDEFAULT_LINEAR_GRADIENT_ANGLE\n\t);\n\tconst onAngleChange = ( newAngle ) => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...gradientAST,\n\t\t\t\torientation: {\n\t\t\t\t\ttype: 'angular',\n\t\t\t\t\tvalue: newAngle,\n\t\t\t\t},\n\t\t\t} )\n\t\t);\n\t};\n\treturn (\n\t\t<AnglePickerControl\n\t\t\tvalue={ hasGradient ? angle : '' }\n\t\t\tonChange={ onAngleChange }\n\t\t/>\n\t);\n};\n\nconst GradientTypePicker = ( { gradientAST, hasGradient, onChange } ) => {\n\tconst { type } = gradientAST;\n\tconst onSetLinearGradient = () => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...gradientAST,\n\t\t\t\t...( gradientAST.orientation\n\t\t\t\t\t? {}\n\t\t\t\t\t: { orientation: HORIZONTAL_GRADIENT_ORIENTATION } ),\n\t\t\t\ttype: 'linear-gradient',\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst onSetRadialGradient = () => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...omit( gradientAST, [ 'orientation' ] ),\n\t\t\t\ttype: 'radial-gradient',\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst handleOnChange = ( next ) => {\n\t\tif ( next === 'linear-gradient' ) {\n\t\t\tonSetLinearGradient();\n\t\t}\n\t\tif ( next === 'radial-gradient' ) {\n\t\t\tonSetRadialGradient();\n\t\t}\n\t};\n\n\treturn (\n\t\t<SelectControl\n\t\t\tclassName=\"components-custom-gradient-picker__type-picker\"\n\t\t\tlabel={ __( 'Type' ) }\n\t\t\tonChange={ handleOnChange }\n\t\t\toptions={ GRADIENT_OPTIONS }\n\t\t\tvalue={ hasGradient && type }\n\t\t/>\n\t);\n};\n\nexport default function CustomGradientPicker( { value, onChange } ) {\n\tconst { gradientAST, hasGradient } = getGradientParsed( value );\n\tconst { type } = gradientAST;\n\treturn (\n\t\t<div className=\"components-custom-gradient-picker\">\n\t\t\t<CustomGradientBar value={ value } onChange={ onChange } />\n\t\t\t<Flex\n\t\t\t\tgap={ 3 }\n\t\t\t\tclassName=\"components-custom-gradient-picker__ui-line\"\n\t\t\t>\n\t\t\t\t<SelectWrapper>\n\t\t\t\t\t<GradientTypePicker\n\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\thasGradient={ hasGradient }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t/>\n\t\t\t\t</SelectWrapper>\n\t\t\t\t{ type === 'linear-gradient' && (\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<GradientAnglePicker\n\t\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\t\thasGradient={ hasGradient }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t) }\n\t\t\t</Flex>\n\t\t</div>\n\t);\n}\n"]}