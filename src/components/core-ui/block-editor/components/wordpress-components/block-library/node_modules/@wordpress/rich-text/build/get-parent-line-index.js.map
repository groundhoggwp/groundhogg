{"version":3,"sources":["@wordpress/rich-text/src/get-parent-line-index.js"],"names":["getParentLineIndex","lineIndex","text","replacements","startFormats","index","LINE_SEPARATOR","formatsAtIndex","length"],"mappings":";;;;;;;AAIA;;AAJA;;;;AAMA;;AAEA;;;;;;;;;;AAUO,SAASA,kBAAT,OAAqDC,SAArD,EAAiE;AAAA,MAAlCC,IAAkC,QAAlCA,IAAkC;AAAA,MAA5BC,YAA4B,QAA5BA,YAA4B;AACvE,MAAMC,YAAY,GAAGD,YAAY,CAAEF,SAAF,CAAZ,IAA6B,EAAlD;AAEA,MAAII,KAAK,GAAGJ,SAAZ;;AAEA,SAAQI,KAAK,MAAM,CAAnB,EAAuB;AACtB,QAAKH,IAAI,CAAEG,KAAF,CAAJ,KAAkBC,iCAAvB,EAAwC;AACvC;AACA;;AAED,QAAMC,cAAc,GAAGJ,YAAY,CAAEE,KAAF,CAAZ,IAAyB,EAAhD;;AAEA,QAAKE,cAAc,CAACC,MAAf,KAA0BJ,YAAY,CAACI,MAAb,GAAsB,CAArD,EAAyD;AACxD,aAAOH,KAAP;AACA;AACD;AACD","sourcesContent":["/**\n * Internal dependencies\n */\n\nimport { LINE_SEPARATOR } from './special-characters';\n\n/** @typedef {import('./create').RichTextValue} RichTextValue */\n\n/**\n * Gets the index of the first parent list. To get the parent list formats, we\n * go through every list item until we find one with exactly one format type\n * less.\n *\n * @param {RichTextValue} value     Value to search.\n * @param {number}        lineIndex Line index of a child list item.\n *\n * @return {number|void} The parent list line index.\n */\nexport function getParentLineIndex( { text, replacements }, lineIndex ) {\n\tconst startFormats = replacements[ lineIndex ] || [];\n\n\tlet index = lineIndex;\n\n\twhile ( index-- >= 0 ) {\n\t\tif ( text[ index ] !== LINE_SEPARATOR ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst formatsAtIndex = replacements[ index ] || [];\n\n\t\tif ( formatsAtIndex.length === startFormats.length - 1 ) {\n\t\t\treturn index;\n\t\t}\n\t}\n}\n"]}