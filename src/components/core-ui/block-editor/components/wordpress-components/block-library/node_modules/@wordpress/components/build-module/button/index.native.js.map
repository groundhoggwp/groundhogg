{"version":3,"sources":["@wordpress/components/src/button/index.native.js"],"names":["StyleSheet","TouchableOpacity","Text","View","Platform","isArray","Children","cloneElement","withPreferredColorScheme","Tooltip","Icon","isAndroid","OS","marginBottom","marginLeft","styles","create","container","flex","padding","justifyContent","alignItems","buttonInactive","flexDirection","fixedRatio","aspectRatio","buttonActive","borderRadius","borderColor","backgroundColor","subscriptInactive","color","fontWeight","fontSize","alignSelf","subscriptInactiveDark","subscriptActive","Button","props","children","onClick","onLongPress","disabled","hint","getStylesFromColorScheme","isPressed","ariaDisabled","subscript","testID","icon","iconSize","showTooltip","label","shortcut","tooltipPosition","isDisabled","buttonViewStyle","opacity","states","push","newChildren","map","child","colorScheme","preferredColorScheme","shouldShowTooltip","length","newIcon","element"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tStyleSheet,\n\tTouchableOpacity,\n\tText,\n\tView,\n\tPlatform,\n} from 'react-native';\nimport { isArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Children, cloneElement } from '@wordpress/element';\nimport { withPreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\n\nconst isAndroid = Platform.OS === 'android';\nconst marginBottom = isAndroid ? -0.5 : 0;\nconst marginLeft = -3;\n\nconst styles = StyleSheet.create( {\n\tcontainer: {\n\t\tflex: 1,\n\t\tpadding: 3,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n\tbuttonInactive: {\n\t\tflex: 1,\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n\tfixedRatio: {\n\t\taspectRatio: 1,\n\t},\n\tbuttonActive: {\n\t\tflex: 1,\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tborderRadius: 6,\n\t\tborderColor: '#2e4453',\n\t\tbackgroundColor: '#2e4453',\n\t},\n\tsubscriptInactive: {\n\t\tcolor: '#7b9ab1', // $toolbar-button\n\t\tfontWeight: 'bold',\n\t\tfontSize: 13,\n\t\talignSelf: 'flex-end',\n\t\tmarginLeft,\n\t\tmarginBottom,\n\t},\n\tsubscriptInactiveDark: {\n\t\tcolor: '#a7aaad', // $gray_20\n\t},\n\tsubscriptActive: {\n\t\tcolor: 'white',\n\t\tfontWeight: 'bold',\n\t\tfontSize: 13,\n\t\talignSelf: 'flex-end',\n\t\tmarginLeft,\n\t\tmarginBottom,\n\t},\n} );\n\nexport function Button( props ) {\n\tconst {\n\t\tchildren,\n\t\tonClick,\n\t\tonLongPress,\n\t\tdisabled,\n\t\thint,\n\t\tfixedRatio = true,\n\t\tgetStylesFromColorScheme,\n\t\tisPressed,\n\t\t'aria-disabled': ariaDisabled,\n\t\t'data-subscript': subscript,\n\t\ttestID,\n\t\ticon,\n\t\ticonSize,\n\t\tshowTooltip,\n\t\tlabel,\n\t\tshortcut,\n\t\ttooltipPosition,\n\t} = props;\n\n\tconst isDisabled = ariaDisabled || disabled;\n\n\tconst buttonViewStyle = {\n\t\topacity: isDisabled ? 0.3 : 1,\n\t\t...( fixedRatio && styles.fixedRatio ),\n\t\t...( isPressed ? styles.buttonActive : styles.buttonInactive ),\n\t};\n\n\tconst states = [];\n\tif ( isPressed ) {\n\t\tstates.push( 'selected' );\n\t}\n\n\tif ( isDisabled ) {\n\t\tstates.push( 'disabled' );\n\t}\n\n\tconst subscriptInactive = getStylesFromColorScheme(\n\t\tstyles.subscriptInactive,\n\t\tstyles.subscriptInactiveDark\n\t);\n\n\tconst newChildren = Children.map( children, ( child ) => {\n\t\treturn child\n\t\t\t? cloneElement( child, {\n\t\t\t\t\tcolorScheme: props.preferredColorScheme,\n\t\t\t\t\tisPressed,\n\t\t\t  } )\n\t\t\t: child;\n\t} );\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\t! isDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( ( showTooltip && label ) ||\n\t\t\t// there's a shortcut or...\n\t\t\tshortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! label &&\n\t\t\t\t// the children are empty and...\n\t\t\t\t( ! children ||\n\t\t\t\t\t( isArray( children ) && ! children.length ) ) &&\n\t\t\t\t// the tooltip is not explicitly disabled.\n\t\t\t\tfalse !== showTooltip ) );\n\n\tconst newIcon = icon\n\t\t? cloneElement( <Icon icon={ icon } size={ iconSize } />, {\n\t\t\t\tcolorScheme: props.preferredColorScheme,\n\t\t\t\tisPressed,\n\t\t  } )\n\t\t: null;\n\n\tconst element = (\n\t\t<TouchableOpacity\n\t\t\tactiveOpacity={ 0.7 }\n\t\t\taccessible={ true }\n\t\t\taccessibilityLabel={ label }\n\t\t\taccessibilityStates={ states }\n\t\t\taccessibilityRole={ 'button' }\n\t\t\taccessibilityHint={ hint }\n\t\t\tonPress={ onClick }\n\t\t\tonLongPress={ onLongPress }\n\t\t\tstyle={ styles.container }\n\t\t\tdisabled={ isDisabled }\n\t\t\ttestID={ testID }\n\t\t>\n\t\t\t<View style={ buttonViewStyle }>\n\t\t\t\t<View style={ { flexDirection: 'row' } }>\n\t\t\t\t\t{ newIcon }\n\t\t\t\t\t{ newChildren }\n\t\t\t\t\t{ subscript && (\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\tisPressed\n\t\t\t\t\t\t\t\t\t? styles.subscriptActive\n\t\t\t\t\t\t\t\t\t: subscriptInactive\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ subscript }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t) }\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t</TouchableOpacity>\n\t);\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn element;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\ttext={ label }\n\t\t\tshortcut={ shortcut }\n\t\t\tposition={ tooltipPosition }\n\t\t>\n\t\t\t{ element }\n\t\t</Tooltip>\n\t);\n}\n\nexport default withPreferredColorScheme( Button );\n"]}