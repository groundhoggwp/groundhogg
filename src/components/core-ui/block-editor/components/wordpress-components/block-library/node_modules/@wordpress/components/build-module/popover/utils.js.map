{"version":3,"sources":["@wordpress/components/src/popover/utils.js"],"names":["getScrollContainer","HEIGHT_OFFSET","computePopoverXAxisPosition","anchorRect","contentSize","xAxis","corner","sticky","chosenYAxis","boundaryElement","width","isRTL","document","documentElement","dir","anchorMidPoint","Math","round","left","centerAlignment","popoverLeft","contentWidth","window","innerWidth","leftAlignmentX","right","rightAlignmentX","leftAlignment","rightAlignment","chosenXAxis","chosenWidth","boundaryRect","getBoundingClientRect","min","computePopoverYAxisPosition","yAxis","anchorRef","relativeOffsetTop","height","scrollContainerEl","body","scrollRect","stickyPosition","top","popoverTop","bottom","middleAlignment","contentHeight","innerHeight","topAlignment","bottomAlignment","chosenHeight","computePopoverPosition","position","split","yAxisPosition","xAxisPosition"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Module constants\n */\nconst HEIGHT_OFFSET = 10; // used by the arrow and a bit of empty space\n\n/**\n * Utility used to compute the popover position over the xAxis\n *\n * @param {Object}  anchorRect      Anchor Rect.\n * @param {Object}  contentSize     Content Size.\n * @param {string}  xAxis           Desired xAxis.\n * @param {string}  corner          Desired corner.\n * @param {boolean} sticky          Whether or not to stick the popover to the\n *                                  scroll container edge when part of the anchor\n *                                  leaves view.\n * @param {string}  chosenYAxis     yAxis to be used.\n * @param {Element} boundaryElement Boundary element.\n *\n * @return {Object} Popover xAxis position and constraints.\n */\nexport function computePopoverXAxisPosition(\n\tanchorRect,\n\tcontentSize,\n\txAxis,\n\tcorner,\n\tsticky,\n\tchosenYAxis,\n\tboundaryElement\n) {\n\tconst { width } = contentSize;\n\tconst isRTL = document.documentElement.dir === 'rtl';\n\n\t// Correct xAxis for RTL support\n\tif ( xAxis === 'left' && isRTL ) {\n\t\txAxis = 'right';\n\t} else if ( xAxis === 'right' && isRTL ) {\n\t\txAxis = 'left';\n\t}\n\n\tif ( corner === 'left' && isRTL ) {\n\t\tcorner = 'right';\n\t} else if ( corner === 'right' && isRTL ) {\n\t\tcorner = 'left';\n\t}\n\n\t// x axis alignment choices\n\tconst anchorMidPoint = Math.round( anchorRect.left + anchorRect.width / 2 );\n\tconst centerAlignment = {\n\t\tpopoverLeft: anchorMidPoint,\n\t\tcontentWidth:\n\t\t\t( anchorMidPoint - width / 2 > 0 ? width / 2 : anchorMidPoint ) +\n\t\t\t( anchorMidPoint + width / 2 > window.innerWidth\n\t\t\t\t? window.innerWidth - anchorMidPoint\n\t\t\t\t: width / 2 ),\n\t};\n\n\tlet leftAlignmentX = anchorRect.left;\n\n\tif ( corner === 'right' ) {\n\t\tleftAlignmentX = anchorRect.right;\n\t} else if ( chosenYAxis !== 'middle' ) {\n\t\tleftAlignmentX = anchorMidPoint;\n\t}\n\n\tlet rightAlignmentX = anchorRect.right;\n\n\tif ( corner === 'left' ) {\n\t\trightAlignmentX = anchorRect.left;\n\t} else if ( chosenYAxis !== 'middle' ) {\n\t\trightAlignmentX = anchorMidPoint;\n\t}\n\n\tconst leftAlignment = {\n\t\tpopoverLeft: leftAlignmentX,\n\t\tcontentWidth: leftAlignmentX - width > 0 ? width : leftAlignmentX,\n\t};\n\tconst rightAlignment = {\n\t\tpopoverLeft: rightAlignmentX,\n\t\tcontentWidth:\n\t\t\trightAlignmentX + width > window.innerWidth\n\t\t\t\t? window.innerWidth - rightAlignmentX\n\t\t\t\t: width,\n\t};\n\n\t// Choosing the x axis\n\tlet chosenXAxis = xAxis;\n\tlet contentWidth = null;\n\n\tif ( ! sticky ) {\n\t\tif ( xAxis === 'center' && centerAlignment.contentWidth === width ) {\n\t\t\tchosenXAxis = 'center';\n\t\t} else if ( xAxis === 'left' && leftAlignment.contentWidth === width ) {\n\t\t\tchosenXAxis = 'left';\n\t\t} else if (\n\t\t\txAxis === 'right' &&\n\t\t\trightAlignment.contentWidth === width\n\t\t) {\n\t\t\tchosenXAxis = 'right';\n\t\t} else {\n\t\t\tchosenXAxis =\n\t\t\t\tleftAlignment.contentWidth > rightAlignment.contentWidth\n\t\t\t\t\t? 'left'\n\t\t\t\t\t: 'right';\n\t\t\tconst chosenWidth =\n\t\t\t\tchosenXAxis === 'left'\n\t\t\t\t\t? leftAlignment.contentWidth\n\t\t\t\t\t: rightAlignment.contentWidth;\n\t\t\tcontentWidth = chosenWidth !== width ? chosenWidth : null;\n\t\t}\n\t}\n\n\tlet popoverLeft;\n\tif ( chosenXAxis === 'center' ) {\n\t\tpopoverLeft = centerAlignment.popoverLeft;\n\t} else if ( chosenXAxis === 'left' ) {\n\t\tpopoverLeft = leftAlignment.popoverLeft;\n\t} else {\n\t\tpopoverLeft = rightAlignment.popoverLeft;\n\t}\n\n\tif ( boundaryElement ) {\n\t\tconst boundaryRect = boundaryElement.getBoundingClientRect();\n\t\tpopoverLeft = Math.min( popoverLeft, boundaryRect.right - width );\n\t}\n\n\treturn {\n\t\txAxis: chosenXAxis,\n\t\tpopoverLeft,\n\t\tcontentWidth,\n\t};\n}\n\n/**\n * Utility used to compute the popover position over the yAxis\n *\n * @param {Object}  anchorRect        Anchor Rect.\n * @param {Object}  contentSize       Content Size.\n * @param {string}  yAxis             Desired yAxis.\n * @param {string}  corner            Desired corner.\n * @param {boolean} sticky            Whether or not to stick the popover to the\n *                                    scroll container edge when part of the\n *                                    anchor leaves view.\n * @param {Element} anchorRef         The anchor element.\n * @param {Element} relativeOffsetTop If applicable, top offset of the relative\n *                                    positioned parent container.\n *\n * @return {Object} Popover xAxis position and constraints.\n */\nexport function computePopoverYAxisPosition(\n\tanchorRect,\n\tcontentSize,\n\tyAxis,\n\tcorner,\n\tsticky,\n\tanchorRef,\n\trelativeOffsetTop\n) {\n\tconst { height } = contentSize;\n\n\tif ( sticky ) {\n\t\tconst scrollContainerEl =\n\t\t\tgetScrollContainer( anchorRef ) || document.body;\n\t\tconst scrollRect = scrollContainerEl.getBoundingClientRect();\n\t\tconst stickyPosition = scrollRect.top + height - relativeOffsetTop;\n\n\t\tif ( anchorRect.top <= stickyPosition ) {\n\t\t\treturn {\n\t\t\t\tyAxis,\n\t\t\t\tpopoverTop: Math.min( anchorRect.bottom, stickyPosition ),\n\t\t\t};\n\t\t}\n\t}\n\n\t// y axis alignment choices\n\tlet anchorMidPoint = anchorRect.top + anchorRect.height / 2;\n\n\tif ( corner === 'bottom' ) {\n\t\tanchorMidPoint = anchorRect.bottom;\n\t} else if ( corner === 'top' ) {\n\t\tanchorMidPoint = anchorRect.top;\n\t}\n\n\tconst middleAlignment = {\n\t\tpopoverTop: anchorMidPoint,\n\t\tcontentHeight:\n\t\t\t( anchorMidPoint - height / 2 > 0 ? height / 2 : anchorMidPoint ) +\n\t\t\t( anchorMidPoint + height / 2 > window.innerHeight\n\t\t\t\t? window.innerHeight - anchorMidPoint\n\t\t\t\t: height / 2 ),\n\t};\n\n\tconst topAlignment = {\n\t\tpopoverTop: anchorRect.top,\n\t\tcontentHeight:\n\t\t\tanchorRect.top - HEIGHT_OFFSET - height > 0\n\t\t\t\t? height\n\t\t\t\t: anchorRect.top - HEIGHT_OFFSET,\n\t};\n\tconst bottomAlignment = {\n\t\tpopoverTop: anchorRect.bottom,\n\t\tcontentHeight:\n\t\t\tanchorRect.bottom + HEIGHT_OFFSET + height > window.innerHeight\n\t\t\t\t? window.innerHeight - HEIGHT_OFFSET - anchorRect.bottom\n\t\t\t\t: height,\n\t};\n\n\t// Choosing the y axis\n\tlet chosenYAxis = yAxis;\n\tlet contentHeight = null;\n\n\tif ( ! sticky ) {\n\t\tif ( yAxis === 'middle' && middleAlignment.contentHeight === height ) {\n\t\t\tchosenYAxis = 'middle';\n\t\t} else if ( yAxis === 'top' && topAlignment.contentHeight === height ) {\n\t\t\tchosenYAxis = 'top';\n\t\t} else if (\n\t\t\tyAxis === 'bottom' &&\n\t\t\tbottomAlignment.contentHeight === height\n\t\t) {\n\t\t\tchosenYAxis = 'bottom';\n\t\t} else {\n\t\t\tchosenYAxis =\n\t\t\t\ttopAlignment.contentHeight > bottomAlignment.contentHeight\n\t\t\t\t\t? 'top'\n\t\t\t\t\t: 'bottom';\n\t\t\tconst chosenHeight =\n\t\t\t\tchosenYAxis === 'top'\n\t\t\t\t\t? topAlignment.contentHeight\n\t\t\t\t\t: bottomAlignment.contentHeight;\n\t\t\tcontentHeight = chosenHeight !== height ? chosenHeight : null;\n\t\t}\n\t}\n\n\tlet popoverTop;\n\tif ( chosenYAxis === 'middle' ) {\n\t\tpopoverTop = middleAlignment.popoverTop;\n\t} else if ( chosenYAxis === 'top' ) {\n\t\tpopoverTop = topAlignment.popoverTop;\n\t} else {\n\t\tpopoverTop = bottomAlignment.popoverTop;\n\t}\n\n\treturn {\n\t\tyAxis: chosenYAxis,\n\t\tpopoverTop,\n\t\tcontentHeight,\n\t};\n}\n\n/**\n * Utility used to compute the popover position and the content max width/height\n * for a popover given its anchor rect and its content size.\n *\n * @param {Object}  anchorRect        Anchor Rect.\n * @param {Object}  contentSize       Content Size.\n * @param {string}  position          Position.\n * @param {boolean} sticky            Whether or not to stick the popover to the\n *                                    scroll container edge when part of the\n *                                    anchor leaves view.\n * @param {Element} anchorRef         The anchor element.\n * @param {number}  relativeOffsetTop If applicable, top offset of the relative\n *                                    positioned parent container.\n * @param {Element} boundaryElement   Boundary element.\n *\n * @return {Object} Popover position and constraints.\n */\nexport function computePopoverPosition(\n\tanchorRect,\n\tcontentSize,\n\tposition = 'top',\n\tsticky,\n\tanchorRef,\n\trelativeOffsetTop,\n\tboundaryElement\n) {\n\tconst [ yAxis, xAxis = 'center', corner ] = position.split( ' ' );\n\n\tconst yAxisPosition = computePopoverYAxisPosition(\n\t\tanchorRect,\n\t\tcontentSize,\n\t\tyAxis,\n\t\tcorner,\n\t\tsticky,\n\t\tanchorRef,\n\t\trelativeOffsetTop\n\t);\n\tconst xAxisPosition = computePopoverXAxisPosition(\n\t\tanchorRect,\n\t\tcontentSize,\n\t\txAxis,\n\t\tcorner,\n\t\tsticky,\n\t\tyAxisPosition.yAxis,\n\t\tboundaryElement\n\t);\n\n\treturn {\n\t\t...xAxisPosition,\n\t\t...yAxisPosition,\n\t};\n}\n"]}