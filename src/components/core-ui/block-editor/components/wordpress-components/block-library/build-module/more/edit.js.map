{"version":3,"sources":["@wordpress/block-library/src/more/edit.js"],"names":["__","PanelBody","ToggleControl","InspectorControls","ENTER","getDefaultBlockName","createBlock","DEFAULT_TEXT","MoreEdit","attributes","customText","noTeaser","insertBlocksAfter","setAttributes","onChangeInput","event","target","value","undefined","onKeyDown","keyCode","getHideExcerptHelp","checked","toggleHideExcerpt","style","width","length"],"mappings":";;AAAA;;;AAGA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,uBAAzC;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AACA,SAASC,KAAT,QAAsB,qBAAtB;AACA,SAASC,mBAAT,EAA8BC,WAA9B,QAAiD,mBAAjD;;AAEA,IAAMC,YAAY,GAAGP,EAAE,CAAE,WAAF,CAAvB;;AAEA,eAAe,SAASQ,QAAT,OAIX;AAAA,6BAHHC,UAGG;AAAA,MAHWC,UAGX,mBAHWA,UAGX;AAAA,MAHuBC,QAGvB,mBAHuBA,QAGvB;AAAA,MAFHC,iBAEG,QAFHA,iBAEG;AAAA,MADHC,aACG,QADHA,aACG;;AACH,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,KAAF,EAAa;AAClCF,IAAAA,aAAa,CAAE;AACdH,MAAAA,UAAU,EACTK,KAAK,CAACC,MAAN,CAAaC,KAAb,KAAuB,EAAvB,GAA4BF,KAAK,CAACC,MAAN,CAAaC,KAAzC,GAAiDC;AAFpC,KAAF,CAAb;AAIA,GALD;;AAOA,MAAMC,SAAS,GAAG,SAAZA,SAAY,QAAmB;AAAA,QAAfC,OAAe,SAAfA,OAAe;;AACpC,QAAKA,OAAO,KAAKhB,KAAjB,EAAyB;AACxBQ,MAAAA,iBAAiB,CAAE,CAAEN,WAAW,CAAED,mBAAmB,EAArB,CAAb,CAAF,CAAjB;AACA;AACD,GAJD;;AAMA,MAAMgB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAEC,OAAF;AAAA,WAC1BA,OAAO,GACJtB,EAAE,CAAE,wBAAF,CADE,GAEJA,EAAE,CAAE,yBAAF,CAHqB;AAAA,GAA3B;;AAKA,MAAMuB,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,WAAMV,aAAa,CAAE;AAAEF,MAAAA,QAAQ,EAAE,CAAEA;AAAd,KAAF,CAAnB;AAAA,GAA1B;;AAEA,MAAMa,KAAK,GAAG;AACbC,IAAAA,KAAK,YAAM,CAAEf,UAAU,GAAGA,UAAH,GAAgBH,YAA5B,EAA2CmB,MAA3C,GAAoD,GAA1D;AADQ,GAAd;AAIA,SACC,8BACC,cAAC,iBAAD,QACC,cAAC,SAAD,QACC,cAAC,aAAD;AACC,IAAA,KAAK,EAAG1B,EAAE,CACT,2CADS,CADX;AAIC,IAAA,OAAO,EAAG,CAAC,CAAEW,QAJd;AAKC,IAAA,QAAQ,EAAGY,iBALZ;AAMC,IAAA,IAAI,EAAGF;AANR,IADD,CADD,CADD,EAaC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AACC,kBAAarB,EAAE,CAAE,qBAAF,CADhB;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,KAAK,EAAGU,UAHT;AAIC,IAAA,WAAW,EAAGH,YAJf;AAKC,IAAA,QAAQ,EAAGO,aALZ;AAMC,IAAA,SAAS,EAAGK,SANb;AAOC,IAAA,KAAK,EAAGK;AAPT,IADD,CAbD,CADD;AA2BA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { getDefaultBlockName, createBlock } from '@wordpress/blocks';\n\nconst DEFAULT_TEXT = __( 'Read more' );\n\nexport default function MoreEdit( {\n\tattributes: { customText, noTeaser },\n\tinsertBlocksAfter,\n\tsetAttributes,\n} ) {\n\tconst onChangeInput = ( event ) => {\n\t\tsetAttributes( {\n\t\t\tcustomText:\n\t\t\t\tevent.target.value !== '' ? event.target.value : undefined,\n\t\t} );\n\t};\n\n\tconst onKeyDown = ( { keyCode } ) => {\n\t\tif ( keyCode === ENTER ) {\n\t\t\tinsertBlocksAfter( [ createBlock( getDefaultBlockName() ) ] );\n\t\t}\n\t};\n\n\tconst getHideExcerptHelp = ( checked ) =>\n\t\tchecked\n\t\t\t? __( 'The excerpt is hidden.' )\n\t\t\t: __( 'The excerpt is visible.' );\n\n\tconst toggleHideExcerpt = () => setAttributes( { noTeaser: ! noTeaser } );\n\n\tconst style = {\n\t\twidth: `${ ( customText ? customText : DEFAULT_TEXT ).length + 1.2 }em`,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t'Hide the excerpt on the full content page'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ !! noTeaser }\n\t\t\t\t\t\tonChange={ toggleHideExcerpt }\n\t\t\t\t\t\thelp={ getHideExcerptHelp }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className=\"wp-block-more\">\n\t\t\t\t<input\n\t\t\t\t\taria-label={ __( 'Read more link text' ) }\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ customText }\n\t\t\t\t\tplaceholder={ DEFAULT_TEXT }\n\t\t\t\t\tonChange={ onChangeInput }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]}