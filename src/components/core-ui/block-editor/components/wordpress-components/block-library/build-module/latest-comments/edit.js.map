{"version":3,"sources":["@wordpress/block-library/src/latest-comments/edit.js"],"names":["InspectorControls","Disabled","PanelBody","RangeControl","ToggleControl","ServerSideRender","Component","__","MIN_COMMENTS","MAX_COMMENTS","LatestComments","arguments","setCommentsToShow","bind","toggleDisplayAvatar","createToggleAttribute","toggleDisplayDate","toggleDisplayExcerpt","propName","value","props","attributes","setAttributes","commentsToShow","displayAvatar","displayDate","displayExcerpt"],"mappings":";;;;;;;;;;;;;AAAA;;;AAGA,SAASA,iBAAT,QAAkC,yBAAlC;AACA,SACCC,QADD,EAECC,SAFD,EAGCC,YAHD,EAICC,aAJD,QAKO,uBALP;AAMA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;;;;;;AAKA,IAAMC,YAAY,GAAG,CAArB;AACA;;;;;;AAKA,IAAMC,YAAY,GAAG,GAArB;;IAEMC,c;;;;;AACL,4BAAc;AAAA;;AAAA;;AACb,+BAAUC,SAAV;AAEA,UAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB,CAHa,CAKb;AACA;AACA;;AACA,UAAKC,mBAAL,GAA2B,MAAKC,qBAAL,CAC1B,eAD0B,CAA3B;AAGA,UAAKC,iBAAL,GAAyB,MAAKD,qBAAL,CAA4B,aAA5B,CAAzB;AACA,UAAKE,oBAAL,GAA4B,MAAKF,qBAAL,CAC3B,gBAD2B,CAA5B;AAZa;AAeb;;;;0CAEsBG,Q,EAAW;AAAA;;AACjC,aAAO,YAAM;AACZ,YAAMC,KAAK,GAAG,MAAI,CAACC,KAAL,CAAWC,UAAX,CAAuBH,QAAvB,CAAd;AADY,YAEJI,aAFI,GAEc,MAAI,CAACF,KAFnB,CAEJE,aAFI;AAIZA,QAAAA,aAAa,qBAAMJ,QAAN,EAAkB,CAAEC,KAApB,EAAb;AACA,OALD;AAMA;;;sCAEkBI,c,EAAiB;AACnC,WAAKH,KAAL,CAAWE,aAAX,CAA0B;AAAEC,QAAAA,cAAc,EAAdA;AAAF,OAA1B;AACA;;;6BAEQ;AAAA,kCAMJ,KAAKH,KAAL,CAAWC,UANP;AAAA,UAEPE,cAFO,yBAEPA,cAFO;AAAA,UAGPC,aAHO,yBAGPA,aAHO;AAAA,UAIPC,WAJO,yBAIPA,WAJO;AAAA,UAKPC,cALO,yBAKPA,cALO;AAQR,aACC,8BACC,cAAC,iBAAD,QACC,cAAC,SAAD;AAAW,QAAA,KAAK,EAAGnB,EAAE,CAAE,0BAAF;AAArB,SACC,cAAC,aAAD;AACC,QAAA,KAAK,EAAGA,EAAE,CAAE,gBAAF,CADX;AAEC,QAAA,OAAO,EAAGiB,aAFX;AAGC,QAAA,QAAQ,EAAG,KAAKV;AAHjB,QADD,EAMC,cAAC,aAAD;AACC,QAAA,KAAK,EAAGP,EAAE,CAAE,cAAF,CADX;AAEC,QAAA,OAAO,EAAGkB,WAFX;AAGC,QAAA,QAAQ,EAAG,KAAKT;AAHjB,QAND,EAWC,cAAC,aAAD;AACC,QAAA,KAAK,EAAGT,EAAE,CAAE,iBAAF,CADX;AAEC,QAAA,OAAO,EAAGmB,cAFX;AAGC,QAAA,QAAQ,EAAG,KAAKT;AAHjB,QAXD,EAgBC,cAAC,YAAD;AACC,QAAA,KAAK,EAAGV,EAAE,CAAE,oBAAF,CADX;AAEC,QAAA,KAAK,EAAGgB,cAFT;AAGC,QAAA,QAAQ,EAAG,KAAKX,iBAHjB;AAIC,QAAA,GAAG,EAAGJ,YAJP;AAKC,QAAA,GAAG,EAAGC,YALP;AAMC,QAAA,QAAQ;AANT,QAhBD,CADD,CADD,EA4BC,cAAC,QAAD,QACC,cAAC,gBAAD;AACC,QAAA,KAAK,EAAC,sBADP;AAEC,QAAA,UAAU,EAAG,KAAKW,KAAL,CAAWC;AAFzB,QADD,CA5BD,CADD;AAqCA;;;;EA5E2Bf,S;;AA+E7B,eAAeI,cAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tDisabled,\n\tPanelBody,\n\tRangeControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Minimum number of comments a user can show using this block.\n *\n * @type {number}\n */\nconst MIN_COMMENTS = 1;\n/**\n * Maximum number of comments a user can show using this block.\n *\n * @type {number}\n */\nconst MAX_COMMENTS = 100;\n\nclass LatestComments extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.setCommentsToShow = this.setCommentsToShow.bind( this );\n\n\t\t// Create toggles for each attribute; we create them here rather than\n\t\t// passing `this.createToggleAttribute( 'displayAvatar' )` directly to\n\t\t// `onChange` to avoid re-renders.\n\t\tthis.toggleDisplayAvatar = this.createToggleAttribute(\n\t\t\t'displayAvatar'\n\t\t);\n\t\tthis.toggleDisplayDate = this.createToggleAttribute( 'displayDate' );\n\t\tthis.toggleDisplayExcerpt = this.createToggleAttribute(\n\t\t\t'displayExcerpt'\n\t\t);\n\t}\n\n\tcreateToggleAttribute( propName ) {\n\t\treturn () => {\n\t\t\tconst value = this.props.attributes[ propName ];\n\t\t\tconst { setAttributes } = this.props;\n\n\t\t\tsetAttributes( { [ propName ]: ! value } );\n\t\t};\n\t}\n\n\tsetCommentsToShow( commentsToShow ) {\n\t\tthis.props.setAttributes( { commentsToShow } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcommentsToShow,\n\t\t\tdisplayAvatar,\n\t\t\tdisplayDate,\n\t\t\tdisplayExcerpt,\n\t\t} = this.props.attributes;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Latest comments settings' ) }>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display avatar' ) }\n\t\t\t\t\t\t\tchecked={ displayAvatar }\n\t\t\t\t\t\t\tonChange={ this.toggleDisplayAvatar }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display date' ) }\n\t\t\t\t\t\t\tchecked={ displayDate }\n\t\t\t\t\t\t\tonChange={ this.toggleDisplayDate }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\n\t\t\t\t\t\t\tchecked={ displayExcerpt }\n\t\t\t\t\t\t\tonChange={ this.toggleDisplayExcerpt }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Number of comments' ) }\n\t\t\t\t\t\t\tvalue={ commentsToShow }\n\t\t\t\t\t\t\tonChange={ this.setCommentsToShow }\n\t\t\t\t\t\t\tmin={ MIN_COMMENTS }\n\t\t\t\t\t\t\tmax={ MAX_COMMENTS }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock=\"core/latest-comments\"\n\t\t\t\t\t\tattributes={ this.props.attributes }\n\t\t\t\t\t/>\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default LatestComments;\n"]}