{"version":3,"sources":["@wordpress/block-library/src/table/edit.js"],"names":["classnames","Component","InspectorControls","BlockControls","RichText","PanelColorSettings","createCustomColorsHOC","BlockIcon","AlignmentToolbar","__","Button","DropdownMenu","PanelBody","Placeholder","TextControl","ToggleControl","ToolbarGroup","ToolbarItem","alignLeft","alignRight","alignCenter","blockTable","icon","tableColumnAfter","tableColumnBefore","tableColumnDelete","tableRowAfter","tableRowBefore","tableRowDelete","table","createBlock","createTable","updateSelectedCell","getCellAttribute","insertRow","deleteRow","insertColumn","deleteColumn","toggleSection","isEmptyTableSection","BACKGROUND_COLORS","color","name","slug","ALIGNMENT_CONTROLS","title","align","withCustomBackgroundColors","TableEdit","arguments","onCreateTable","bind","onChangeFixedLayout","onChange","onChangeInitialColumnCount","onChangeInitialRowCount","renderSection","getTableControls","onInsertRow","onInsertRowBefore","onInsertRowAfter","onDeleteRow","onInsertColumn","onInsertColumnBefore","onInsertColumnAfter","onDeleteColumn","onToggleHeaderSection","onToggleFooterSection","onChangeColumnAlignment","getCellAlignment","state","initialRowCount","initialColumnCount","selectedCell","setState","event","preventDefault","setAttributes","props","parseInt","rowCount","columnCount","attributes","hasFixedLayout","content","cellAttributes","columnSelection","type","columnIndex","newAttributes","delta","sectionName","rowIndex","newRowIndex","newColumnIndex","cellLocation","isDisabled","onClick","rows","Tag","map","cells","CellTag","tag","scope","cellClasses","placeholder","undefined","createOnFocus","isSelected","className","backgroundColor","setBackgroundColor","insertBlocksAfter","caption","head","body","foot","isEmpty","Section","tableClasses","class","toggleProps","nextAlign","onHoverAlignment","length","value","label","disableCustomColors","colors"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;;;;AAGA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SACCC,iBADD,EAECC,aAFD,EAGCC,QAHD,EAICC,kBAJD,EAKCC,qBALD,EAMCC,SAND,EAOCC,gBAPD,QAQO,yBARP;AASA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SACCC,MADD,EAECC,YAFD,EAGCC,SAHD,EAICC,WAJD,EAKCC,WALD,EAMCC,aAND,EAOCC,YAPD,EAQCC,WARD,QASO,uBATP;AAUA,SACCC,SADD,EAECC,UAFD,EAGCC,WAHD,EAICC,UAAU,IAAIC,IAJf,EAKCC,gBALD,EAMCC,iBAND,EAOCC,iBAPD,EAQCC,aARD,EASCC,cATD,EAUCC,cAVD,EAWCC,KAXD,QAYO,kBAZP;AAaA,SAASC,WAAT,QAA4B,mBAA5B;AAEA;;;;AAGA,SACCC,WADD,EAECC,kBAFD,EAGCC,gBAHD,EAICC,SAJD,EAKCC,SALD,EAMCC,YAND,EAOCC,YAPD,EAQCC,aARD,EASCC,mBATD,QAUO,SAVP;AAYA,IAAMC,iBAAiB,GAAG,CACzB;AACCC,EAAAA,KAAK,EAAE,SADR;AAECC,EAAAA,IAAI,EAAE,mBAFP;AAGCC,EAAAA,IAAI,EAAE;AAHP,CADyB,EAMzB;AACCF,EAAAA,KAAK,EAAE,SADR;AAECC,EAAAA,IAAI,EAAE,mBAFP;AAGCC,EAAAA,IAAI,EAAE;AAHP,CANyB,EAWzB;AACCF,EAAAA,KAAK,EAAE,SADR;AAECC,EAAAA,IAAI,EAAE,kBAFP;AAGCC,EAAAA,IAAI,EAAE;AAHP,CAXyB,EAgBzB;AACCF,EAAAA,KAAK,EAAE,SADR;AAECC,EAAAA,IAAI,EAAE,kBAFP;AAGCC,EAAAA,IAAI,EAAE;AAHP,CAhByB,CAA1B;AAuBA,IAAMC,kBAAkB,GAAG,CAC1B;AACCtB,EAAAA,IAAI,EAAEJ,SADP;AAEC2B,EAAAA,KAAK,EAAEpC,EAAE,CAAE,mBAAF,CAFV;AAGCqC,EAAAA,KAAK,EAAE;AAHR,CAD0B,EAM1B;AACCxB,EAAAA,IAAI,EAAEF,WADP;AAECyB,EAAAA,KAAK,EAAEpC,EAAE,CAAE,qBAAF,CAFV;AAGCqC,EAAAA,KAAK,EAAE;AAHR,CAN0B,EAW1B;AACCxB,EAAAA,IAAI,EAAEH,UADP;AAEC0B,EAAAA,KAAK,EAAEpC,EAAE,CAAE,oBAAF,CAFV;AAGCqC,EAAAA,KAAK,EAAE;AAHR,CAX0B,CAA3B;AAkBA,IAAMC,0BAA0B,GAAGzC,qBAAqB,CAAEkC,iBAAF,CAAxD;AAEA,WAAaQ,SAAb;AAAA;;AAAA;;AACC,uBAAc;AAAA;;AAAA;;AACb,+BAAUC,SAAV;AAEA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB;AACA,UAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBD,IAAzB,+BAA3B;AACA,UAAKE,QAAL,GAAgB,MAAKA,QAAL,CAAcF,IAAd,+BAAhB;AACA,UAAKG,0BAAL,GAAkC,MAAKA,0BAAL,CAAgCH,IAAhC,+BAAlC;AAGA,UAAKI,uBAAL,GAA+B,MAAKA,uBAAL,CAA6BJ,IAA7B,+BAA/B;AAGA,UAAKK,aAAL,GAAqB,MAAKA,aAAL,CAAmBL,IAAnB,+BAArB;AACA,UAAKM,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBN,IAAtB,+BAAxB;AACA,UAAKO,WAAL,GAAmB,MAAKA,WAAL,CAAiBP,IAAjB,+BAAnB;AACA,UAAKQ,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBR,IAAvB,+BAAzB;AACA,UAAKS,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBT,IAAtB,+BAAxB;AACA,UAAKU,WAAL,GAAmB,MAAKA,WAAL,CAAiBV,IAAjB,+BAAnB;AACA,UAAKW,cAAL,GAAsB,MAAKA,cAAL,CAAoBX,IAApB,+BAAtB;AACA,UAAKY,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BZ,IAA1B,+BAA5B;AACA,UAAKa,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBb,IAAzB,+BAA3B;AACA,UAAKc,cAAL,GAAsB,MAAKA,cAAL,CAAoBd,IAApB,+BAAtB;AACA,UAAKe,qBAAL,GAA6B,MAAKA,qBAAL,CAA2Bf,IAA3B,+BAA7B;AACA,UAAKgB,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BhB,IAA3B,+BAA7B;AACA,UAAKiB,uBAAL,GAA+B,MAAKA,uBAAL,CAA6BjB,IAA7B,+BAA/B;AAGA,UAAKkB,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBlB,IAAtB,+BAAxB;AAEA,UAAKmB,KAAL,GAAa;AACZC,MAAAA,eAAe,EAAE,CADL;AAEZC,MAAAA,kBAAkB,EAAE,CAFR;AAGZC,MAAAA,YAAY,EAAE;AAHF,KAAb;AA7Ba;AAkCb;AAED;;;;;;;AArCD;AAAA;AAAA,+CA0C6BD,kBA1C7B,EA0CkD;AAChD,WAAKE,QAAL,CAAe;AAAEF,QAAAA,kBAAkB,EAAlBA;AAAF,OAAf;AACA;AAED;;;;;;AA9CD;AAAA;AAAA,4CAmD0BD,eAnD1B,EAmD4C;AAC1C,WAAKG,QAAL,CAAe;AAAEH,QAAAA,eAAe,EAAfA;AAAF,OAAf;AACA;AAED;;;;;;AAvDD;AAAA;AAAA,kCA4DgBI,KA5DhB,EA4DwB;AACtBA,MAAAA,KAAK,CAACC,cAAN;AADsB,UAGdC,aAHc,GAGI,KAAKC,KAHT,CAGdD,aAHc;AAAA,wBAIwB,KAAKP,KAJ7B;AAAA,UAIhBC,eAJgB,eAIhBA,eAJgB;AAAA,UAICC,kBAJD,eAICA,kBAJD;AAMtBD,MAAAA,eAAe,GAAGQ,QAAQ,CAAER,eAAF,EAAmB,EAAnB,CAAR,IAAmC,CAArD;AACAC,MAAAA,kBAAkB,GAAGO,QAAQ,CAAEP,kBAAF,EAAsB,EAAtB,CAAR,IAAsC,CAA3D;AAEAK,MAAAA,aAAa,CACZ9C,WAAW,CAAE;AACZiD,QAAAA,QAAQ,EAAET,eADE;AAEZU,QAAAA,WAAW,EAAET;AAFD,OAAF,CADC,CAAb;AAMA;AAED;;;;AA7ED;AAAA;AAAA,0CAgFuB;AAAA,wBACiB,KAAKM,KADtB;AAAA,UACbI,UADa,eACbA,UADa;AAAA,UACDL,aADC,eACDA,aADC;AAAA,UAEbM,cAFa,GAEMD,UAFN,CAEbC,cAFa;AAIrBN,MAAAA,aAAa,CAAE;AAAEM,QAAAA,cAAc,EAAE,CAAEA;AAApB,OAAF,CAAb;AACA;AAED;;;;;;AAvFD;AAAA;AAAA,6BA4FWC,OA5FX,EA4FqB;AAAA,UACXX,YADW,GACM,KAAKH,KADX,CACXG,YADW;;AAGnB,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA;;AALkB,yBAOmB,KAAKK,KAPxB;AAAA,UAOXI,UAPW,gBAOXA,UAPW;AAAA,UAOCL,aAPD,gBAOCA,aAPD;AASnBA,MAAAA,aAAa,CACZ7C,kBAAkB,CACjBkD,UADiB,EAEjBT,YAFiB,EAGjB,UAAEY,cAAF;AAAA,+CACIA,cADJ;AAECD,UAAAA,OAAO,EAAPA;AAFD;AAAA,OAHiB,CADN,CAAb;AAUA;AAED;;;;;;AAjHD;AAAA;AAAA,4CAsH0BtC,KAtH1B,EAsHkC;AAAA,UACxB2B,YADwB,GACP,KAAKH,KADE,CACxBG,YADwB;;AAGhC,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA,OAL+B,CAOhC;AACA;;;AACA,UAAMa,eAAe,GAAG;AACvBC,QAAAA,IAAI,EAAE,QADiB;AAEvBC,QAAAA,WAAW,EAAEf,YAAY,CAACe;AAFH,OAAxB;AATgC,yBAcM,KAAKV,KAdX;AAAA,UAcxBI,UAdwB,gBAcxBA,UAdwB;AAAA,UAcZL,aAdY,gBAcZA,aAdY;AAehC,UAAMY,aAAa,GAAGzD,kBAAkB,CACvCkD,UADuC,EAEvCI,eAFuC,EAGvC,UAAED,cAAF;AAAA,+CACIA,cADJ;AAECvC,UAAAA,KAAK,EAALA;AAFD;AAAA,OAHuC,CAAxC;AAQA+B,MAAAA,aAAa,CAAEY,aAAF,CAAb;AACA;AAED;;;;;;AAhJD;AAAA;AAAA,uCAqJoB;AAAA,UACVhB,YADU,GACO,KAAKH,KADZ,CACVG,YADU;;AAGlB,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA;;AALiB,UAOVS,UAPU,GAOK,KAAKJ,KAPV,CAOVI,UAPU;AASlB,aAAOjD,gBAAgB,CAAEiD,UAAF,EAAcT,YAAd,EAA4B,OAA5B,CAAvB;AACA;AAED;;;;AAjKD;AAAA;AAAA,4CAoKyB;AAAA,yBACe,KAAKK,KADpB;AAAA,UACfI,UADe,gBACfA,UADe;AAAA,UACHL,aADG,gBACHA,aADG;AAEvBA,MAAAA,aAAa,CAAEvC,aAAa,CAAE4C,UAAF,EAAc,MAAd,CAAf,CAAb;AACA;AAED;;;;AAzKD;AAAA;AAAA,4CA4KyB;AAAA,yBACe,KAAKJ,KADpB;AAAA,UACfI,UADe,gBACfA,UADe;AAAA,UACHL,aADG,gBACHA,aADG;AAEvBA,MAAAA,aAAa,CAAEvC,aAAa,CAAE4C,UAAF,EAAc,MAAd,CAAf,CAAb;AACA;AAED;;;;;;AAjLD;AAAA;AAAA,gCAsLcQ,KAtLd,EAsLsB;AAAA,UACZjB,YADY,GACK,KAAKH,KADV,CACZG,YADY;;AAGpB,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA;;AALmB,yBAOkB,KAAKK,KAPvB;AAAA,UAOZI,UAPY,gBAOZA,UAPY;AAAA,UAOAL,aAPA,gBAOAA,aAPA;AAAA,UAQZc,WARY,GAQclB,YARd,CAQZkB,WARY;AAAA,UAQCC,QARD,GAQcnB,YARd,CAQCmB,QARD;AASpB,UAAMC,WAAW,GAAGD,QAAQ,GAAGF,KAA/B;AAEAb,MAAAA,aAAa,CACZ3C,SAAS,CAAEgD,UAAF,EAAc;AACtBS,QAAAA,WAAW,EAAXA,WADsB;AAEtBC,QAAAA,QAAQ,EAAEC;AAFY,OAAd,CADG,CAAb,CAXoB,CAiBpB;;AACA,WAAKnB,QAAL,CAAe;AACdD,QAAAA,YAAY,EAAE;AACbkB,UAAAA,WAAW,EAAXA,WADa;AAEbC,UAAAA,QAAQ,EAAEC,WAFG;AAGbL,UAAAA,WAAW,EAAE,CAHA;AAIbD,UAAAA,IAAI,EAAE;AAJO;AADA,OAAf;AAQA;AAED;;;;AAlND;AAAA;AAAA,wCAqNqB;AACnB,WAAK7B,WAAL,CAAkB,CAAlB;AACA;AAED;;;;AAzND;AAAA;AAAA,uCA4NoB;AAClB,WAAKA,WAAL,CAAkB,CAAlB;AACA;AAED;;;;AAhOD;AAAA;AAAA,kCAmOe;AAAA,UACLe,YADK,GACY,KAAKH,KADjB,CACLG,YADK;;AAGb,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA;;AALY,yBAOyB,KAAKK,KAP9B;AAAA,UAOLI,UAPK,gBAOLA,UAPK;AAAA,UAOOL,aAPP,gBAOOA,aAPP;AAAA,UAQLc,WARK,GAQqBlB,YARrB,CAQLkB,WARK;AAAA,UAQQC,QARR,GAQqBnB,YARrB,CAQQmB,QARR;AAUb,WAAKlB,QAAL,CAAe;AAAED,QAAAA,YAAY,EAAE;AAAhB,OAAf;AACAI,MAAAA,aAAa,CAAE1C,SAAS,CAAE+C,UAAF,EAAc;AAAES,QAAAA,WAAW,EAAXA,WAAF;AAAeC,QAAAA,QAAQ,EAARA;AAAf,OAAd,CAAX,CAAb;AACA;AAED;;;;;;AAjPD;AAAA;AAAA,qCAsP6B;AAAA,UAAZF,KAAY,uEAAJ,CAAI;AAAA,UACnBjB,YADmB,GACF,KAAKH,KADH,CACnBG,YADmB;;AAG3B,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA;;AAL0B,yBAOW,KAAKK,KAPhB;AAAA,UAOnBI,UAPmB,gBAOnBA,UAPmB;AAAA,UAOPL,aAPO,gBAOPA,aAPO;AAAA,UAQnBW,WARmB,GAQHf,YARG,CAQnBe,WARmB;AAS3B,UAAMM,cAAc,GAAGN,WAAW,GAAGE,KAArC;AAEAb,MAAAA,aAAa,CACZzC,YAAY,CAAE8C,UAAF,EAAc;AACzBM,QAAAA,WAAW,EAAEM;AADY,OAAd,CADA,CAAb,CAX2B,CAgB3B;;AACA,WAAKpB,QAAL,CAAe;AACdD,QAAAA,YAAY,EAAE;AACbmB,UAAAA,QAAQ,EAAE,CADG;AAEbJ,UAAAA,WAAW,EAAEM,cAFA;AAGbP,UAAAA,IAAI,EAAE;AAHO;AADA,OAAf;AAOA;AAED;;;;AAhRD;AAAA;AAAA,2CAmRwB;AACtB,WAAKzB,cAAL,CAAqB,CAArB;AACA;AAED;;;;AAvRD;AAAA;AAAA,0CA0RuB;AACrB,WAAKA,cAAL,CAAqB,CAArB;AACA;AAED;;;;AA9RD;AAAA;AAAA,qCAiSkB;AAAA,UACRW,YADQ,GACS,KAAKH,KADd,CACRG,YADQ;;AAGhB,UAAK,CAAEA,YAAP,EAAsB;AACrB;AACA;;AALe,yBAOsB,KAAKK,KAP3B;AAAA,UAORI,UAPQ,gBAORA,UAPQ;AAAA,UAOIL,aAPJ,gBAOIA,aAPJ;AAAA,UAQRc,WARQ,GAQqBlB,YARrB,CAQRkB,WARQ;AAAA,UAQKH,WARL,GAQqBf,YARrB,CAQKe,WARL;AAUhB,WAAKd,QAAL,CAAe;AAAED,QAAAA,YAAY,EAAE;AAAhB,OAAf;AACAI,MAAAA,aAAa,CACZxC,YAAY,CAAE6C,UAAF,EAAc;AAAES,QAAAA,WAAW,EAAXA,WAAF;AAAeH,QAAAA,WAAW,EAAXA;AAAf,OAAd,CADA,CAAb;AAGA;AAED;;;;;;;;;AAjTD;AAAA;AAAA,kCAyTgBO,YAzThB,EAyT+B;AAAA;;AAC7B,aAAO,YAAM;AACZ,QAAA,MAAI,CAACrB,QAAL,CAAe;AACdD,UAAAA,YAAY,kCACRsB,YADQ;AAEXR,YAAAA,IAAI,EAAE;AAFK;AADE,SAAf;AAMA,OAPD;AAQA;AAED;;;;;;AApUD;AAAA;AAAA,uCAyUoB;AAAA,UACVd,YADU,GACO,KAAKH,KADZ,CACVG,YADU;AAGlB,aAAO,CACN;AACCnD,QAAAA,IAAI,EAAEK,cADP;AAECkB,QAAAA,KAAK,EAAEpC,EAAE,CAAE,mBAAF,CAFV;AAGCuF,QAAAA,UAAU,EAAE,CAAEvB,YAHf;AAICwB,QAAAA,OAAO,EAAE,KAAKtC;AAJf,OADM,EAON;AACCrC,QAAAA,IAAI,EAAEI,aADP;AAECmB,QAAAA,KAAK,EAAEpC,EAAE,CAAE,kBAAF,CAFV;AAGCuF,QAAAA,UAAU,EAAE,CAAEvB,YAHf;AAICwB,QAAAA,OAAO,EAAE,KAAKrC;AAJf,OAPM,EAaN;AACCtC,QAAAA,IAAI,EAAEM,cADP;AAECiB,QAAAA,KAAK,EAAEpC,EAAE,CAAE,YAAF,CAFV;AAGCuF,QAAAA,UAAU,EAAE,CAAEvB,YAHf;AAICwB,QAAAA,OAAO,EAAE,KAAKpC;AAJf,OAbM,EAmBN;AACCvC,QAAAA,IAAI,EAAEE,iBADP;AAECqB,QAAAA,KAAK,EAAEpC,EAAE,CAAE,sBAAF,CAFV;AAGCuF,QAAAA,UAAU,EAAE,CAAEvB,YAHf;AAICwB,QAAAA,OAAO,EAAE,KAAKlC;AAJf,OAnBM,EAyBN;AACCzC,QAAAA,IAAI,EAAEC,gBADP;AAECsB,QAAAA,KAAK,EAAEpC,EAAE,CAAE,qBAAF,CAFV;AAGCuF,QAAAA,UAAU,EAAE,CAAEvB,YAHf;AAICwB,QAAAA,OAAO,EAAE,KAAKjC;AAJf,OAzBM,EA+BN;AACC1C,QAAAA,IAAI,EAAEG,iBADP;AAECoB,QAAAA,KAAK,EAAEpC,EAAE,CAAE,eAAF,CAFV;AAGCuF,QAAAA,UAAU,EAAE,CAAEvB,YAHf;AAICwB,QAAAA,OAAO,EAAE,KAAKhC;AAJf,OA/BM,CAAP;AAsCA;AAED;;;;;;;;;;AApXD;AAAA;AAAA,wCA6XiC;AAAA;;AAAA,UAAfvB,IAAe,QAAfA,IAAe;AAAA,UAATwD,IAAS,QAATA,IAAS;;AAC/B,UAAK3D,mBAAmB,CAAE2D,IAAF,CAAxB,EAAmC;AAClC,eAAO,IAAP;AACA;;AAED,UAAMC,GAAG,cAAQzD,IAAR,CAAT;AAEA,aACC,cAAC,GAAD,QACGwD,IAAI,CAACE,GAAL,CAAU,iBAAaR,QAAb;AAAA,YAAIS,KAAJ,SAAIA,KAAJ;AAAA,eACX;AAAI,UAAA,GAAG,EAAGT;AAAV,WACGS,KAAK,CAACD,GAAN,CACD,iBAECZ,WAFD,EAGK;AAAA,cAFFJ,OAEE,SAFFA,OAEE;AAAA,cAFYkB,OAEZ,SAFOC,GAEP;AAAA,cAFqBC,KAErB,SAFqBA,KAErB;AAAA,cAF4B1D,KAE5B,SAF4BA,KAE5B;AACJ,cAAMiD,YAAY,GAAG;AACpBJ,YAAAA,WAAW,EAAEjD,IADO;AAEpBkD,YAAAA,QAAQ,EAARA,QAFoB;AAGpBJ,YAAAA,WAAW,EAAXA;AAHoB,WAArB;AAMA,cAAMiB,WAAW,GAAGzG,UAAU,8CAEP8C,KAFO,GAEKA,KAFL,GAI7B,8BAJ6B,CAA9B;AAOA,cAAI4D,WAAW,GAAG,EAAlB;;AACA,cAAKhE,IAAI,KAAK,MAAd,EAAuB;AACtBgE,YAAAA,WAAW,GAAGjG,EAAE,CAAE,cAAF,CAAhB;AACA,WAFD,MAEO,IAAKiC,IAAI,KAAK,MAAd,EAAuB;AAC7BgE,YAAAA,WAAW,GAAGjG,EAAE,CAAE,cAAF,CAAhB;AACA;;AAED,iBACC,cAAC,QAAD;AACC,YAAA,OAAO,EAAG6F,OADX;AAEC,YAAA,GAAG,EAAGd,WAFP;AAGC,YAAA,SAAS,EAAGiB,WAHb;AAIC,YAAA,KAAK,EACJH,OAAO,KAAK,IAAZ,GAAmBE,KAAnB,GAA2BG,SAL7B;AAOC,YAAA,KAAK,EAAGvB,OAPT;AAQC,YAAA,QAAQ,EAAG,MAAI,CAAC/B,QARjB;AASC,YAAA,eAAe,EAAG,MAAI,CAACuD,aAAL,CACjBb,YADiB,CATnB;AAYC,YAAA,WAAW,EAAGW;AAZf,YADD;AAgBA,SAzCA,CADH,CADW;AAAA,OAAV,CADH,CADD;AAmDA;AAvbF;AAAA;AAAA,yCAybsB;AAAA,UACZG,UADY,GACG,KAAK/B,KADR,CACZ+B,UADY;AAAA,UAEZpC,YAFY,GAEK,KAAKH,KAFV,CAEZG,YAFY;;AAIpB,UAAK,CAAEoC,UAAF,IAAgBpC,YAArB,EAAoC;AACnC,aAAKC,QAAL,CAAe;AAAED,UAAAA,YAAY,EAAE;AAAhB,SAAf;AACA;AACD;AAhcF;AAAA;AAAA,6BAkcU;AAAA;;AAAA,0BAQJ,KAAKK,KARD;AAAA,UAEPI,UAFO,iBAEPA,UAFO;AAAA,UAGP4B,SAHO,iBAGPA,SAHO;AAAA,UAIPC,eAJO,iBAIPA,eAJO;AAAA,UAKPC,kBALO,iBAKPA,kBALO;AAAA,UAMPnC,aANO,iBAMPA,aANO;AAAA,UAOPoC,iBAPO,iBAOPA,iBAPO;AAAA,yBASwC,KAAK3C,KAT7C;AAAA,UASAC,eATA,gBASAA,eATA;AAAA,UASiBC,kBATjB,gBASiBA,kBATjB;AAAA,UAUAW,cAVA,GAU8CD,UAV9C,CAUAC,cAVA;AAAA,UAUgB+B,OAVhB,GAU8ChC,UAV9C,CAUgBgC,OAVhB;AAAA,UAUyBC,IAVzB,GAU8CjC,UAV9C,CAUyBiC,IAVzB;AAAA,UAU+BC,IAV/B,GAU8ClC,UAV9C,CAU+BkC,IAV/B;AAAA,UAUqCC,IAVrC,GAU8CnC,UAV9C,CAUqCmC,IAVrC;AAWR,UAAMC,OAAO,GACZ/E,mBAAmB,CAAE4E,IAAF,CAAnB,IACA5E,mBAAmB,CAAE6E,IAAF,CADnB,IAEA7E,mBAAmB,CAAE8E,IAAF,CAHpB;AAIA,UAAME,OAAO,GAAG,KAAK/D,aAArB;;AAEA,UAAK8D,OAAL,EAAe;AACd,eACC,cAAC,WAAD;AACC,UAAA,KAAK,EAAG7G,EAAE,CAAE,OAAF,CADX;AAEC,UAAA,IAAI,EAAG,cAAC,SAAD;AAAW,YAAA,IAAI,EAAGa,IAAlB;AAAyB,YAAA,UAAU;AAAnC,YAFR;AAGC,UAAA,YAAY,EAAGb,EAAE,CAAE,kCAAF;AAHlB,WAKC;AACC,UAAA,SAAS,EAAC,gCADX;AAEC,UAAA,QAAQ,EAAG,KAAKyC;AAFjB,WAIC,cAAC,WAAD;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,KAAK,EAAGzC,EAAE,CAAE,cAAF,CAFX;AAGC,UAAA,KAAK,EAAG+D,kBAHT;AAIC,UAAA,QAAQ,EAAG,KAAKlB,0BAJjB;AAKC,UAAA,GAAG,EAAC,GALL;AAMC,UAAA,SAAS,EAAC;AANX,UAJD,EAYC,cAAC,WAAD;AACC,UAAA,IAAI,EAAC,QADN;AAEC,UAAA,KAAK,EAAG7C,EAAE,CAAE,WAAF,CAFX;AAGC,UAAA,KAAK,EAAG8D,eAHT;AAIC,UAAA,QAAQ,EAAG,KAAKhB,uBAJjB;AAKC,UAAA,GAAG,EAAC,GALL;AAMC,UAAA,SAAS,EAAC;AANX,UAZD,EAoBC,cAAC,MAAD;AACC,UAAA,SAAS,EAAC,kCADX;AAEC,UAAA,SAAS,MAFV;AAGC,UAAA,IAAI,EAAC;AAHN,WAKG9C,EAAE,CAAE,cAAF,CALL,CApBD,CALD,CADD;AAoCA;;AAED,UAAM+G,YAAY,GAAGxH,UAAU,CAAE+G,eAAe,CAACU,KAAlB,EAAyB;AACvD,4BAAoBtC,cADmC;AAEvD,0BAAkB,CAAC,CAAE4B,eAAe,CAACtE;AAFkB,OAAzB,CAA/B;AAKA,aACC,8BACC,cAAC,aAAD,QACC,cAAC,YAAD,QACC,cAAC,WAAD,QACG,UAAEiF,WAAF;AAAA,eACD,cAAC,YAAD;AACC,UAAA,iBAAiB,MADlB;AAEC,UAAA,IAAI,EAAG7F,KAFR;AAGC,UAAA,WAAW,EAAG6F,WAHf;AAIC,UAAA,KAAK,EAAGjH,EAAE,CAAE,YAAF,CAJX;AAKC,UAAA,QAAQ,EAAG,MAAI,CAACgD,gBAAL;AALZ,UADC;AAAA,OADH,CADD,CADD,EAcC,cAAC,gBAAD;AACC,QAAA,KAAK,EAAGhD,EAAE,CAAE,yBAAF,CADX;AAEC,QAAA,iBAAiB,EAAGmC,kBAFrB;AAGC,QAAA,KAAK,EAAG,KAAKyB,gBAAL,EAHT;AAIC,QAAA,QAAQ,EAAG,kBAAEsD,SAAF;AAAA,iBACV,MAAI,CAACvD,uBAAL,CAA8BuD,SAA9B,CADU;AAAA,SAJZ;AAOC,QAAA,OAAO,EAAG,KAAKC;AAPhB,QAdD,CADD,EAyBC,cAAC,iBAAD,QACC,cAAC,SAAD;AACC,QAAA,KAAK,EAAGnH,EAAE,CAAE,gBAAF,CADX;AAEC,QAAA,SAAS,EAAC;AAFX,SAIC,cAAC,aAAD;AACC,QAAA,KAAK,EAAGA,EAAE,CAAE,yBAAF,CADX;AAEC,QAAA,OAAO,EAAG,CAAC,CAAE0E,cAFd;AAGC,QAAA,QAAQ,EAAG,KAAK/B;AAHjB,QAJD,EASC,cAAC,aAAD;AACC,QAAA,KAAK,EAAG3C,EAAE,CAAE,gBAAF,CADX;AAEC,QAAA,OAAO,EAAG,CAAC,EAAI0G,IAAI,IAAIA,IAAI,CAACU,MAAjB,CAFZ;AAGC,QAAA,QAAQ,EAAG,KAAK3D;AAHjB,QATD,EAcC,cAAC,aAAD;AACC,QAAA,KAAK,EAAGzD,EAAE,CAAE,gBAAF,CADX;AAEC,QAAA,OAAO,EAAG,CAAC,EAAI4G,IAAI,IAAIA,IAAI,CAACQ,MAAjB,CAFZ;AAGC,QAAA,QAAQ,EAAG,KAAK1D;AAHjB,QAdD,CADD,EAqBC,cAAC,kBAAD;AACC,QAAA,KAAK,EAAG1D,EAAE,CAAE,gBAAF,CADX;AAEC,QAAA,WAAW,EAAG,KAFf;AAGC,QAAA,aAAa,EAAG,CACf;AACCqH,UAAAA,KAAK,EAAEf,eAAe,CAACtE,KADxB;AAECY,UAAAA,QAAQ,EAAE2D,kBAFX;AAGCe,UAAAA,KAAK,EAAEtH,EAAE,CAAE,kBAAF,CAHV;AAICuH,UAAAA,mBAAmB,EAAE,IAJtB;AAKCC,UAAAA,MAAM,EAAEzF;AALT,SADe;AAHjB,QArBD,CAzBD,EA4DC;AAAQ,QAAA,SAAS,EAAGsE;AAApB,SACC;AAAO,QAAA,SAAS,EAAGU;AAAnB,SACC,cAAC,OAAD;AAAS,QAAA,IAAI,EAAC,MAAd;AAAqB,QAAA,IAAI,EAAGL;AAA5B,QADD,EAEC,cAAC,OAAD;AAAS,QAAA,IAAI,EAAC,MAAd;AAAqB,QAAA,IAAI,EAAGC;AAA5B,QAFD,EAGC,cAAC,OAAD;AAAS,QAAA,IAAI,EAAC,MAAd;AAAqB,QAAA,IAAI,EAAGC;AAA5B,QAHD,CADD,EAMC,cAAC,QAAD;AACC,QAAA,OAAO,EAAC,YADT;AAEC,QAAA,WAAW,EAAG5G,EAAE,CAAE,gBAAF,CAFjB;AAGC,QAAA,KAAK,EAAGyG,OAHT;AAIC,QAAA,QAAQ,EAAG,kBAAEY,KAAF;AAAA,iBACVjD,aAAa,CAAE;AAAEqC,YAAAA,OAAO,EAAEY;AAAX,WAAF,CADH;AAAA,SAJZ,CAOC;AAPD;AAQC,QAAA,eAAe,EAAG;AAAA,iBACjB,MAAI,CAACpD,QAAL,CAAe;AAAED,YAAAA,YAAY,EAAE;AAAhB,WAAf,CADiB;AAAA,SARnB;AAWC,QAAA,sBAAsB,EAAG;AAAA,iBACxBwC,iBAAiB,CAAEnF,WAAW,CAAE,gBAAF,CAAb,CADO;AAAA;AAX1B,QAND,CA5DD,CADD;AAqFA;AAplBF;;AAAA;AAAA,EAA+B7B,SAA/B;AAulBA,eAAe8C,0BAA0B,CAAE,iBAAF,CAA1B,CAAiDC,SAAjD,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\tRichText,\n\tPanelColorSettings,\n\tcreateCustomColorsHOC,\n\tBlockIcon,\n\tAlignmentToolbar,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tDropdownMenu,\n\tPanelBody,\n\tPlaceholder,\n\tTextControl,\n\tToggleControl,\n\tToolbarGroup,\n\tToolbarItem,\n} from '@wordpress/components';\nimport {\n\talignLeft,\n\talignRight,\n\talignCenter,\n\tblockTable as icon,\n\ttableColumnAfter,\n\ttableColumnBefore,\n\ttableColumnDelete,\n\ttableRowAfter,\n\ttableRowBefore,\n\ttableRowDelete,\n\ttable,\n} from '@wordpress/icons';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tcreateTable,\n\tupdateSelectedCell,\n\tgetCellAttribute,\n\tinsertRow,\n\tdeleteRow,\n\tinsertColumn,\n\tdeleteColumn,\n\ttoggleSection,\n\tisEmptyTableSection,\n} from './state';\n\nconst BACKGROUND_COLORS = [\n\t{\n\t\tcolor: '#f3f4f5',\n\t\tname: 'Subtle light gray',\n\t\tslug: 'subtle-light-gray',\n\t},\n\t{\n\t\tcolor: '#e9fbe5',\n\t\tname: 'Subtle pale green',\n\t\tslug: 'subtle-pale-green',\n\t},\n\t{\n\t\tcolor: '#e7f5fe',\n\t\tname: 'Subtle pale blue',\n\t\tslug: 'subtle-pale-blue',\n\t},\n\t{\n\t\tcolor: '#fcf0ef',\n\t\tname: 'Subtle pale pink',\n\t\tslug: 'subtle-pale-pink',\n\t},\n];\n\nconst ALIGNMENT_CONTROLS = [\n\t{\n\t\ticon: alignLeft,\n\t\ttitle: __( 'Align column left' ),\n\t\talign: 'left',\n\t},\n\t{\n\t\ticon: alignCenter,\n\t\ttitle: __( 'Align column center' ),\n\t\talign: 'center',\n\t},\n\t{\n\t\ticon: alignRight,\n\t\ttitle: __( 'Align column right' ),\n\t\talign: 'right',\n\t},\n];\n\nconst withCustomBackgroundColors = createCustomColorsHOC( BACKGROUND_COLORS );\n\nexport class TableEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onCreateTable = this.onCreateTable.bind( this );\n\t\tthis.onChangeFixedLayout = this.onChangeFixedLayout.bind( this );\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onChangeInitialColumnCount = this.onChangeInitialColumnCount.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.onChangeInitialRowCount = this.onChangeInitialRowCount.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.renderSection = this.renderSection.bind( this );\n\t\tthis.getTableControls = this.getTableControls.bind( this );\n\t\tthis.onInsertRow = this.onInsertRow.bind( this );\n\t\tthis.onInsertRowBefore = this.onInsertRowBefore.bind( this );\n\t\tthis.onInsertRowAfter = this.onInsertRowAfter.bind( this );\n\t\tthis.onDeleteRow = this.onDeleteRow.bind( this );\n\t\tthis.onInsertColumn = this.onInsertColumn.bind( this );\n\t\tthis.onInsertColumnBefore = this.onInsertColumnBefore.bind( this );\n\t\tthis.onInsertColumnAfter = this.onInsertColumnAfter.bind( this );\n\t\tthis.onDeleteColumn = this.onDeleteColumn.bind( this );\n\t\tthis.onToggleHeaderSection = this.onToggleHeaderSection.bind( this );\n\t\tthis.onToggleFooterSection = this.onToggleFooterSection.bind( this );\n\t\tthis.onChangeColumnAlignment = this.onChangeColumnAlignment.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.getCellAlignment = this.getCellAlignment.bind( this );\n\n\t\tthis.state = {\n\t\t\tinitialRowCount: 2,\n\t\t\tinitialColumnCount: 2,\n\t\t\tselectedCell: null,\n\t\t};\n\t}\n\n\t/**\n\t * Updates the initial column count used for table creation.\n\t *\n\t * @param {number} initialColumnCount New initial column count.\n\t */\n\tonChangeInitialColumnCount( initialColumnCount ) {\n\t\tthis.setState( { initialColumnCount } );\n\t}\n\n\t/**\n\t * Updates the initial row count used for table creation.\n\t *\n\t * @param {number} initialRowCount New initial row count.\n\t */\n\tonChangeInitialRowCount( initialRowCount ) {\n\t\tthis.setState( { initialRowCount } );\n\t}\n\n\t/**\n\t * Creates a table based on dimensions in local state.\n\t *\n\t * @param {Object} event Form submit event.\n\t */\n\tonCreateTable( event ) {\n\t\tevent.preventDefault();\n\n\t\tconst { setAttributes } = this.props;\n\t\tlet { initialRowCount, initialColumnCount } = this.state;\n\n\t\tinitialRowCount = parseInt( initialRowCount, 10 ) || 2;\n\t\tinitialColumnCount = parseInt( initialColumnCount, 10 ) || 2;\n\n\t\tsetAttributes(\n\t\t\tcreateTable( {\n\t\t\t\trowCount: initialRowCount,\n\t\t\t\tcolumnCount: initialColumnCount,\n\t\t\t} )\n\t\t);\n\t}\n\n\t/**\n\t * Toggles whether the table has a fixed layout or not.\n\t */\n\tonChangeFixedLayout() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { hasFixedLayout } = attributes;\n\n\t\tsetAttributes( { hasFixedLayout: ! hasFixedLayout } );\n\t}\n\n\t/**\n\t * Changes the content of the currently selected cell.\n\t *\n\t * @param {Array} content A RichText content value.\n\t */\n\tonChange( content ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\n\t\tsetAttributes(\n\t\t\tupdateSelectedCell(\n\t\t\t\tattributes,\n\t\t\t\tselectedCell,\n\t\t\t\t( cellAttributes ) => ( {\n\t\t\t\t\t...cellAttributes,\n\t\t\t\t\tcontent,\n\t\t\t\t} )\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t * Align text within the a column.\n\t *\n\t * @param {string} align The new alignment to apply to the column.\n\t */\n\tonChangeColumnAlignment( align ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Convert the cell selection to a column selection so that alignment\n\t\t// is applied to the entire column.\n\t\tconst columnSelection = {\n\t\t\ttype: 'column',\n\t\t\tcolumnIndex: selectedCell.columnIndex,\n\t\t};\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst newAttributes = updateSelectedCell(\n\t\t\tattributes,\n\t\t\tcolumnSelection,\n\t\t\t( cellAttributes ) => ( {\n\t\t\t\t...cellAttributes,\n\t\t\t\talign,\n\t\t\t} )\n\t\t);\n\t\tsetAttributes( newAttributes );\n\t}\n\n\t/**\n\t * Get the alignment of the currently selected cell.\n\t *\n\t * @return {string} The new alignment to apply to the column.\n\t */\n\tgetCellAlignment() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes } = this.props;\n\n\t\treturn getCellAttribute( attributes, selectedCell, 'align' );\n\t}\n\n\t/**\n\t * Add or remove a `head` table section.\n\t */\n\tonToggleHeaderSection() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tsetAttributes( toggleSection( attributes, 'head' ) );\n\t}\n\n\t/**\n\t * Add or remove a `foot` table section.\n\t */\n\tonToggleFooterSection() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tsetAttributes( toggleSection( attributes, 'foot' ) );\n\t}\n\n\t/**\n\t * Inserts a row at the currently selected row index, plus `delta`.\n\t *\n\t * @param {number} delta Offset for selected row index at which to insert.\n\t */\n\tonInsertRow( delta ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { sectionName, rowIndex } = selectedCell;\n\t\tconst newRowIndex = rowIndex + delta;\n\n\t\tsetAttributes(\n\t\t\tinsertRow( attributes, {\n\t\t\t\tsectionName,\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t} )\n\t\t);\n\t\t// Select the first cell of the new row\n\t\tthis.setState( {\n\t\t\tselectedCell: {\n\t\t\t\tsectionName,\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\tcolumnIndex: 0,\n\t\t\t\ttype: 'cell',\n\t\t\t},\n\t\t} );\n\t}\n\n\t/**\n\t * Inserts a row before the currently selected row.\n\t */\n\tonInsertRowBefore() {\n\t\tthis.onInsertRow( 0 );\n\t}\n\n\t/**\n\t * Inserts a row after the currently selected row.\n\t */\n\tonInsertRowAfter() {\n\t\tthis.onInsertRow( 1 );\n\t}\n\n\t/**\n\t * Deletes the currently selected row.\n\t */\n\tonDeleteRow() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { sectionName, rowIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes( deleteRow( attributes, { sectionName, rowIndex } ) );\n\t}\n\n\t/**\n\t * Inserts a column at the currently selected column index, plus `delta`.\n\t *\n\t * @param {number} delta Offset for selected column index at which to insert.\n\t */\n\tonInsertColumn( delta = 0 ) {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { columnIndex } = selectedCell;\n\t\tconst newColumnIndex = columnIndex + delta;\n\n\t\tsetAttributes(\n\t\t\tinsertColumn( attributes, {\n\t\t\t\tcolumnIndex: newColumnIndex,\n\t\t\t} )\n\t\t);\n\t\t// Select the first cell of the new column\n\t\tthis.setState( {\n\t\t\tselectedCell: {\n\t\t\t\trowIndex: 0,\n\t\t\t\tcolumnIndex: newColumnIndex,\n\t\t\t\ttype: 'cell',\n\t\t\t},\n\t\t} );\n\t}\n\n\t/**\n\t * Inserts a column before the currently selected column.\n\t */\n\tonInsertColumnBefore() {\n\t\tthis.onInsertColumn( 0 );\n\t}\n\n\t/**\n\t * Inserts a column after the currently selected column.\n\t */\n\tonInsertColumnAfter() {\n\t\tthis.onInsertColumn( 1 );\n\t}\n\n\t/**\n\t * Deletes the currently selected column.\n\t */\n\tonDeleteColumn() {\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! selectedCell ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { sectionName, columnIndex } = selectedCell;\n\n\t\tthis.setState( { selectedCell: null } );\n\t\tsetAttributes(\n\t\t\tdeleteColumn( attributes, { sectionName, columnIndex } )\n\t\t);\n\t}\n\n\t/**\n\t * Creates an onFocus handler for a specified cell.\n\t *\n\t * @param {Object} cellLocation Object with `section`, `rowIndex`, and\n\t *                              `columnIndex` properties.\n\t *\n\t * @return {Function} Function to call on focus.\n\t */\n\tcreateOnFocus( cellLocation ) {\n\t\treturn () => {\n\t\t\tthis.setState( {\n\t\t\t\tselectedCell: {\n\t\t\t\t\t...cellLocation,\n\t\t\t\t\ttype: 'cell',\n\t\t\t\t},\n\t\t\t} );\n\t\t};\n\t}\n\n\t/**\n\t * Gets the table controls to display in the block toolbar.\n\t *\n\t * @return {Array} Table controls.\n\t */\n\tgetTableControls() {\n\t\tconst { selectedCell } = this.state;\n\n\t\treturn [\n\t\t\t{\n\t\t\t\ticon: tableRowBefore,\n\t\t\t\ttitle: __( 'Insert row before' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertRowBefore,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: tableRowAfter,\n\t\t\t\ttitle: __( 'Insert row after' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertRowAfter,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: tableRowDelete,\n\t\t\t\ttitle: __( 'Delete row' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onDeleteRow,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: tableColumnBefore,\n\t\t\t\ttitle: __( 'Insert column before' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertColumnBefore,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: tableColumnAfter,\n\t\t\t\ttitle: __( 'Insert column after' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onInsertColumnAfter,\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: tableColumnDelete,\n\t\t\t\ttitle: __( 'Delete column' ),\n\t\t\t\tisDisabled: ! selectedCell,\n\t\t\t\tonClick: this.onDeleteColumn,\n\t\t\t},\n\t\t];\n\t}\n\n\t/**\n\t * Renders a table section.\n\t *\n\t * @param {Object} options\n\t * @param {string} options.name Section type: head, body, or foot.\n\t * @param {Array}  options.rows The rows to render.\n\t *\n\t * @return {Object} React element for the section.\n\t */\n\trenderSection( { name, rows } ) {\n\t\tif ( isEmptyTableSection( rows ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst Tag = `t${ name }`;\n\n\t\treturn (\n\t\t\t<Tag>\n\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\n\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t{ cells.map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{ content, tag: CellTag, scope, align },\n\t\t\t\t\t\t\t\tcolumnIndex\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tconst cellLocation = {\n\t\t\t\t\t\t\t\t\tsectionName: name,\n\t\t\t\t\t\t\t\t\trowIndex,\n\t\t\t\t\t\t\t\t\tcolumnIndex,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tconst cellClasses = classnames(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'wp-block-table__cell-content'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tlet placeholder = '';\n\t\t\t\t\t\t\t\tif ( name === 'head' ) {\n\t\t\t\t\t\t\t\t\tplaceholder = __( 'Header label' );\n\t\t\t\t\t\t\t\t} else if ( name === 'foot' ) {\n\t\t\t\t\t\t\t\t\tplaceholder = __( 'Footer label' );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\ttagName={ CellTag }\n\t\t\t\t\t\t\t\t\t\tkey={ columnIndex }\n\t\t\t\t\t\t\t\t\t\tclassName={ cellClasses }\n\t\t\t\t\t\t\t\t\t\tscope={\n\t\t\t\t\t\t\t\t\t\t\tCellTag === 'th' ? scope : undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\t\t\t\t\tunstableOnFocus={ this.createOnFocus(\n\t\t\t\t\t\t\t\t\t\t\tcellLocation\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t</tr>\n\t\t\t\t) ) }\n\t\t\t</Tag>\n\t\t);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { isSelected } = this.props;\n\t\tconst { selectedCell } = this.state;\n\n\t\tif ( ! isSelected && selectedCell ) {\n\t\t\tthis.setState( { selectedCell: null } );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tclassName,\n\t\t\tbackgroundColor,\n\t\t\tsetBackgroundColor,\n\t\t\tsetAttributes,\n\t\t\tinsertBlocksAfter,\n\t\t} = this.props;\n\t\tconst { initialRowCount, initialColumnCount } = this.state;\n\t\tconst { hasFixedLayout, caption, head, body, foot } = attributes;\n\t\tconst isEmpty =\n\t\t\tisEmptyTableSection( head ) &&\n\t\t\tisEmptyTableSection( body ) &&\n\t\t\tisEmptyTableSection( foot );\n\t\tconst Section = this.renderSection;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn (\n\t\t\t\t<Placeholder\n\t\t\t\t\tlabel={ __( 'Table' ) }\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\tinstructions={ __( 'Insert a table for sharing data.' ) }\n\t\t\t\t>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"blocks-table__placeholder-form\"\n\t\t\t\t\t\tonSubmit={ this.onCreateTable }\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tlabel={ __( 'Column count' ) }\n\t\t\t\t\t\t\tvalue={ initialColumnCount }\n\t\t\t\t\t\t\tonChange={ this.onChangeInitialColumnCount }\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tclassName=\"blocks-table__placeholder-input\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tlabel={ __( 'Row count' ) }\n\t\t\t\t\t\t\tvalue={ initialRowCount }\n\t\t\t\t\t\t\tonChange={ this.onChangeInitialRowCount }\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tclassName=\"blocks-table__placeholder-input\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"blocks-table__placeholder-button\"\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create Table' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Placeholder>\n\t\t\t);\n\t\t}\n\n\t\tconst tableClasses = classnames( backgroundColor.class, {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t'has-background': !! backgroundColor.color,\n\t\t} );\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ToolbarItem>\n\t\t\t\t\t\t\t{ ( toggleProps ) => (\n\t\t\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\t\t\thasArrowIndicator\n\t\t\t\t\t\t\t\t\ticon={ table }\n\t\t\t\t\t\t\t\t\ttoggleProps={ toggleProps }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Edit table' ) }\n\t\t\t\t\t\t\t\t\tcontrols={ this.getTableControls() }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</ToolbarItem>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tlabel={ __( 'Change column alignment' ) }\n\t\t\t\t\t\talignmentControls={ ALIGNMENT_CONTROLS }\n\t\t\t\t\t\tvalue={ this.getCellAlignment() }\n\t\t\t\t\t\tonChange={ ( nextAlign ) =>\n\t\t\t\t\t\t\tthis.onChangeColumnAlignment( nextAlign )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonHover={ this.onHoverAlignment }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\ttitle={ __( 'Table settings' ) }\n\t\t\t\t\t\tclassName=\"blocks-table-settings\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Fixed width table cells' ) }\n\t\t\t\t\t\t\tchecked={ !! hasFixedLayout }\n\t\t\t\t\t\t\tonChange={ this.onChangeFixedLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Header section' ) }\n\t\t\t\t\t\t\tchecked={ !! ( head && head.length ) }\n\t\t\t\t\t\t\tonChange={ this.onToggleHeaderSection }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Footer section' ) }\n\t\t\t\t\t\t\tchecked={ !! ( foot && foot.length ) }\n\t\t\t\t\t\t\tonChange={ this.onToggleFooterSection }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelColorSettings\n\t\t\t\t\t\ttitle={ __( 'Color settings' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: backgroundColor.color,\n\t\t\t\t\t\t\t\tonChange: setBackgroundColor,\n\t\t\t\t\t\t\t\tlabel: __( 'Background color' ),\n\t\t\t\t\t\t\t\tdisableCustomColors: true,\n\t\t\t\t\t\t\t\tcolors: BACKGROUND_COLORS,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<figure className={ className }>\n\t\t\t\t\t<table className={ tableClasses }>\n\t\t\t\t\t\t<Section name=\"head\" rows={ head } />\n\t\t\t\t\t\t<Section name=\"body\" rows={ body } />\n\t\t\t\t\t\t<Section name=\"foot\" rows={ foot } />\n\t\t\t\t\t</table>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tplaceholder={ __( 'Write captionâ€¦' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Deselect the selected table cell when the caption is focused.\n\t\t\t\t\t\tunstableOnFocus={ () =>\n\t\t\t\t\t\t\tthis.setState( { selectedCell: null } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter( createBlock( 'core/paragraph' ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</figure>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default withCustomBackgroundColors( 'backgroundColor' )( TableEdit );\n"]}